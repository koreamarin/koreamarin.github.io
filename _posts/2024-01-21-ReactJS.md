---
layout: post
title: ReactJS
description: ReactJSë¥¼ ê³µë¶€í•˜ê³  ë‚œ í›„ ì •ë¦¬í•œ í¬ìŠ¤í„°
date: 2024-02-19 00:00:00 +0000
categories: FrontEnd # Develop, Life, DevOps, Conference
comments: true
type: done # done, writing, hide
---

ë…¸ë§ˆë“œì½”ë”, ë¦¬ì—‘íŠ¸ ê³µì‹ë¬¸ì„œ ë“±ì„ ì°¸ê³ í•˜ì—¬ ê³µë¶€í•œ í›„ ì •ë¦¬í•œ í¬ìŠ¤í„° ì…ë‹ˆë‹¤.

react ì°¸ê³ ìë£Œ : [https://github.com/koreamarin/01.Study/tree/main/06.nomad_coding/06.react-masterclass](https://github.com/koreamarin/01.Study/tree/main/06.nomad_coding/06.react-masterclass)  
redux ì°¸ê³ ìë£Œ : [https://github.com/koreamarin/01.Study/tree/main/06.nomad_coding/07.react-redux](https://github.com/koreamarin/01.Study/tree/main/06.nomad_coding/07.react-redux)  
redux-toolkit ì°¸ê³ ìë£Œ : [https://github.com/koreamarin/01.Study/tree/main/06.nomad_coding/08.react-redux-toolkit](https://github.com/koreamarin/01.Study/tree/main/06.nomad_coding/08.react-redux-toolkit)
react-redux-typescript-Example ì°¸ê³ ìë£Œ : [https://github.com/koreamarin/react-redux-typescript-Example](https://github.com/koreamarin/react-redux-typescript-Example)

# ëª…ë ¹ì–´ ëª¨ìŒ

`npx create-react-app í”„ë¡œì íŠ¸ëª…` : í˜„ì¬ ë””ë ‰í† ë¦¬ì— í”„ë¡œì íŠ¸ëª…ìœ¼ë¡œëœ ë¦¬ì—‘íŠ¸ í”„ë¡œì íŠ¸ ìƒì„±

`npx install react react-dom` : í˜„ì¬ ë””ë ‰í† ë¦¬ì— reactë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ react-dom ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜ ë˜ëŠ” `npx install` ì…

`npx create-react-app í”„ë¡œì íŠ¸ëª… --template typescript` : í˜„ì¬ ë””ë ‰í† ë¦¬ì— í”„ë¡œì íŠ¸ëª…ìœ¼ë¡œëœ ë¦¬ì—‘íŠ¸ í”„ë¡œì íŠ¸ë¥¼ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì¶”ê°€í•˜ì—¬ ìƒì„±

`npm install --save typescript @types/node @types/react @types/react-dom @types/jest` : ê¸°ì¡´ì˜ CRAí™˜ê²½ì— TS ì¶”ê°€í•˜ê¸°

`npm start` : ë¦¬ì—‘íŠ¸ í”„ë¡œì íŠ¸ ì‹œì‘. í…ŒìŠ¤íŠ¸ í™˜ê²½ ë¹Œë“œ

`npm install react-router-dom` : router ì„¤ì¹˜

`npm run build` : ë¹Œë“œí•˜ê¸°. í”„ë¡œì íŠ¸ë¥¼ í•˜ë‚˜ì˜ staticí•œ íŒŒì¼ë¡œ ë¹Œë“œì‹œì¼œ buildí´ë”ë¥¼ ìƒì„±í•˜ì—¬ ê·¸ ì•ˆì— ë¹Œë“œ ê²°ê³¼ íŒŒì¼ì„ ë„£ì–´ë†“ìŒ.

`npx serve -s build` : ë¹Œë“œí•œ íŒŒì¼ ì„œë¹„ìŠ¤ ì‹œì‘, buildëŠ” í´ë”ëª…ì„ ì˜ë¯¸. -sëŠ” ì‚¬ìš©ìê°€ ì–´ë– í•œ ê²½ë¡œë¡œ ë“¤ì–´ì˜¤ë“  ê°„ì— index.htmlë¡œ ë“¤ì–´ê°€ê²Œë” í•´ì£¼ëŠ” ì˜µì…˜

---

```markdown
ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ë•Œ ì»´í¬ë„ŒíŠ¸ëª…ì˜ ë§¨ ì•ê¸€ìëŠ” ë°˜ë“œì‹œ ëŒ€ë¬¸ìì´ì–´ì•¼ í•œë‹¤.  
ì»´í¬ë„ŒíŠ¸ì˜ ì†ì„±ì€ Propì´ë¼ê³  ë¶€ë¥¸ë‹¤. ì»´í¬ë„ŒíŠ¸ì— argumentë¥¼ ë„£ì–´ì£¼ëŠ” ê²ƒì´ë‹¤.  
ë™ì ìœ¼ë¡œ ë§Œë“¤ì–´ì£¼ëŠ” íƒœê·¸ë“¤ì€ ê°ì keyë¼ëŠ” ì†ì„±ì„ ê°€ì§€ê³  ìˆì–´ì•¼ í•˜ë©°, keyë“¤ì€ ê³ ìœ (ìœ ë‹ˆí¬)í•´ì•¼í•œë‹¤.  
Propì—ëŠ” textë¥¼ ë„£ì„ìˆ˜ë„ ìˆê³ , ë³€ìˆ˜ë¥¼ ë„£ì„ìˆ˜ë„ ìˆìœ¼ë©°, í•¨ìˆ˜ë¥¼ ë„£ì„ ìˆ˜ë„ ìˆë‹¤.  
ë”°ë¼ì„œ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì˜ ì´ë²¤íŠ¸ê°€ ì–´ë–¤ ê¸°ëŠ¥ì„ í•  ê²ƒì¸ì§€ë¥¼ Propë¡œ ë¶€ì—¬í•´ì¤„ ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤.
```

# **UseState**

```markdown
Stateë¥¼ ì‚¬ìš©í•˜ì—¬ì•¼ ë³€ìˆ˜ê°’ì´ ë³€ë™ë ë•Œë§ˆë‹¤ ë Œë”ë§ì´ ë‹¤ì‹œ ëœë‹¤. Stateë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì€ ë³€ìˆ˜ì˜ ë³€ìˆ˜ê°’ì„ ë°”ê¾¸ë©´ ë‚´ë¶€ì ìœ¼ë¡œë§Œ ë³€ìˆ˜ê°’ì´ ë°”ë€Œì–´ìˆê³ ,  
ë°”ë€ ê°’ì´ ë Œë”ë§ë˜ì–´ ë‚˜íƒ€ë‚˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.

Stateë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” `import {useState} from 'react';`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„ ì–¸í•˜ì—¬ì•¼ í•œë‹¤.

useStateë¡œ ì„ ì–¸í•œ ë³€ìˆ˜ì—ëŠ” 0ë²ˆ ì¸ë±ìŠ¤ì—ëŠ” ë³€ìˆ˜ê°’ì´, 1ë²ˆ ì¸ë±ìŠ¤ì—ëŠ” í•´ë‹¹ ë³€ìˆ˜ë¥¼ ë°”ê¾¸ê¸° ìœ„í•œ í•¨ìˆ˜ê°€ ë“¤ì–´ìˆë‹¤.  
ì•„ë˜ëŠ” ê·¸ ì˜ˆì‹œì´ê³ , ì˜ˆì‹œë¥¼ ë‹¨ì¶•í•˜ì—¬ ì‚¬ìš©í•œë‹¤.
```

const \_mode = useState("ã…ã…‡")
const mode = \_mode[0];
const setMode = \_mode[1];

```

ì´ ì½”ë“œë¥¼

```

const [mode, setMode] = useState("ã…ã…‡")

```

ë¡œ ë°”ê¿€ ìˆ˜ ìˆë‹¤.
```

---

# UseEffect

- ì²˜ìŒ ë Œë”ë§ë  ë•Œ í•œë²ˆë§Œ ì‹¤í–‰ë˜ê³  stateì˜ ë³€í™”ê°€ ìˆë”ë¼ë„ ë” ì´ìƒ ì‹¤í–‰í•˜ê³  ì‹¶ì§€ ì•Šì„ ë•Œ ì‚¬ìš©í•˜ëŠ” í›…
- ì²«ë²ˆì¨° ì¸ìì—ëŠ” ì‹¤í–‰í•˜ë ¤ëŠ” í•¨ìˆ˜ë¥¼ ì…ë ¥í•œë‹¤.
- ë‘ë²ˆì§¸ ì¸ìì—ëŠ” ì˜ˆì™¸ì²˜ë¦¬í•  stateëª…ì„ ì…ë ¥í•œë‹¤. ë‘ë²ˆì§¸ ì¸ìì— í¬í•¨ëœ stateê°€ ë°”ë€”ë•Œì—ëŠ” Effetì˜ íš¨ë ¥ì´ ë°œìƒí•˜ì§€ ì•Šì•„ ì²«ë²ˆì§¸ ì¸ìì— ìˆëŠ” í•¨ìˆ˜ê°€ í•¨ê»˜ ì‹¤í–‰ëœë‹¤.
- useEffectì—ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ì‹œì—ë§Œ ì‹¤í–‰ëœë‹¤ëŠ” íŠ¹ì§• ì´ì™¸ì—ë„ í•˜ë‚˜ì˜ ê¸°ëŠ¥ì´ ë” ìˆë‹¤. ë°”ë¡œ ì»´í¬ë„ŒíŠ¸ê°€ ì‚¬ë¼ì§ˆ ë•Œì—ë„ ì‹¤í–‰ ì‹œí‚¬ ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ ìˆë‹¤. useEffectì˜ ì²«ë²ˆì§¸ ì¸ìì— ìˆëŠ” í•¨ìˆ˜ê°€ return (í•¨ìˆ˜)ë¥¼ ê°€ì§ˆ ë•Œ, return ë’¤ì— ìˆëŠ” í•¨ìˆ˜ê°€ ì‹¤í–‰ëœë‹¤.
  ì •ë¦¬í•˜ìë©´ ìµœì´ˆ ë Œë”ë§ì‹œì—ëŠ” arg1 í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ë©°, ë Œë”ë§ ì‚­ì œì‹œì—ëŠ” arg1í•¨ìˆ˜ì˜ returnì— ìˆëŠ” í•¨ìˆ˜ê°€ ì‹¤í–‰ëœë‹¤.
  ì•„ë˜ëŠ” ë‘ê°€ì§€ì˜ ì˜ˆì‹œì´ë‹¤.
  `jsx
function Hello() {
	useEffect(() => {
	  console.log("hi :)");   // ì»´í¬ë„ŒíŠ¸ ìƒì„±ì‹œì— ì‹¤í–‰
	  return () => console.log("bye :(")   // ì»´í¬ë„ŒíŠ¸ ì‚­ì œì‹œì— ì‹¤í–‰
	}, []);
	return <h1>Hello></h1>
}
`

                                  ```jsx
                                  function Hello() {
                                  	function byFn() {
                                  		console.log("bye :(");
                                  	}
                                  	function hiFn() {
                                  		console.log("created :)");
                                  		return byFn
                                  	}
                                  	useEffect(hiFn, []);
                                  	return <h1>Hello></h1>
                                  }
                                  ```

---

# ì• ë‹ˆë©”ì´ì…˜ ì ìš© ë°©ì‹

- keyframsë¼ëŠ” ìŠ¤íƒ€ì¼ ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ ì• ë‹ˆë§¤ì´ì…˜ì„ ì‰½ê²Œ ì ìš© ê°€ëŠ¥í•˜ë‹¤.
- ì•„ë˜ì™€ ê°™ì´ ìƒì„±í•˜ì—¬ ì ìš©í•œë‹¤. from.. toë¡œë„ ì ìš©í•  ìˆ˜ ìˆê³  %ë¡œë„ ì ìš©ê°€ëŠ¥í•˜ë‹¤.

  ```jsx
  import styled, { keyframes } from "styled-components";

  const Wrapper = styled.div`
    display: flex;
  `;

  const rotationAnimation1 = keyframes`
    from {
      transform:rotate(0deg);
      border-radius:0px;
    }
    to {
      transform:rotate(360deg);
      border-radius:100px;
    }
  `;

  const Box1 = styled.div`
    height: 200px;
    width: 200px;
    background-color: tomato;
    animation: ${rotationAnimation1} 2s linear infinite;
  `;

  const rotationAnimation2 = keyframes`
    0% {
      transform:rotate(0deg);
      border-radius:0px;
    }
    50% {
      transform:rotate(360deg);
      border-radius:100px;
    }
    100% {
      transform:rotate(720deg);
      border-radius:0px;
    }
  `;

  const Box2 = styled.div`
    height: 200px;
    width: 200px;
    background-color: tomato;
    animation: ${rotationAnimation2} 2s linear infinite;
  `;

  function App() {
    return (
      <Wrapper>
        <Box1 />
        <Box2 />
      </Wrapper>
    );
  }

  export default App;
  ```

  ![image](/image/REACTJS1.png)

  - ë§‰ ëŒì•„ê°€ëŠ” ì´ë¯¸ì§€ì´ë‹¤.

---

# CSS ì ìš©ë°©ë²•(4ë²ˆ ì¤‘ìš”)

### 1. inlineë°©ì‹ (ì˜ ì•ˆì”€)

### 2. style.css ë§Œë“¤ì–´ì„œ ì ìš©í•˜ëŠ” ë°©ì‹ (ì“°ê¸´í•¨)

### 3. style module ë°©ì‹ (ë§ì´ ì“°ëŠ”í¸)

- Button.module.css â‡’ íŒŒì¼ëª…ì— .module.cssë¥¼ ë¶™ì¸ë‹¤. ê¼­ ì»´í¬ë„ŒíŠ¸ ì´ë¦„ì„ ê°€ì§„ íŒŒì¼ëª…ì¼í•„ìš”ëŠ” ì—†ë‹¤.
  ```css
  .btn {
    color: white;
    background-color: tomato;
  }
  ```
- Button.js

  ```jsx
  import styles from "./Button.module.css";

  export function Button({ text }) {
    return <button className={styles.btn}>{text}</button>;
  }
  ```

### 4. styled components ë°©ì‹ (ëŒ€ì„¸ ë°©ì‹, ì¤‘ìš”)

- ê°€ì¥ ì¢‹ë‹¤ëŠ” ë°©ì‹ì´ë‹¤.
- `npm i styled-components` ì…ë ¥í•˜ì—¬ ì„¤ì¹˜í•œë‹¤.
  íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” `npm i --save-devÂ @types/styled-components` ì´ê²ƒë„ ê°™ì´ ì„¤ì¹˜í•œë‹¤.
  `.d.ts`íŒŒì¼ì„ ë‹¤ìš´ë°›ëŠ” ê²ƒì´ë‹¤.
- ë³€ìˆ˜ëª… ë§¨ ì•ê¸€ìëŠ” ëŒ€ë¬¸ìì´ë‹¤.
- ë³€ìˆ˜ê°’ì„ ì‘ì„±í•  ë•Œ `styled.íƒœê·¸ëª…` ìœ¼ë¡œ ì‹œì‘í•˜ë©° ë°±í‹±(`) ì‚¬ì´ì— ìŠ¤íƒ€ì¼ ì½”ë“œê°€ ë“¤ì–´ê°„ë‹¤.
- propì„ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ì„œ ë™ì ì¸ ìŠ¤íƒ€ì¼ ë³€ê²½ì´ ê°€ëŠ¥í•˜ë‹¤.
- ìŠ¤íƒ€ì¼ ë³€ìˆ˜ëŠ” ì¬ì‚¬ìš© ê°€ëŠ¥í•˜ì—¬ ë‹¤ë¥¸ ìŠ¤íƒ€ì¼ ë³€ìˆ˜ì•ˆì—ì„œ ë‹¤ì‹œ ì“°ì¼ ìˆ˜ ìˆë‹¤.
- as ì†ì„±ì„ ì¶”ê°€í•˜ì—¬ ìŠ¤íƒ€ì¼ëœ íƒœê·¸ê°€ ì•„ë‹Œ ë‹¤ë¥¸ íƒœê·¸ë¡œ ë°”ê¿€ ìˆ˜ ìˆë‹¤.
- ì»´í¬ë„ŒíŠ¸ì— íƒœê·¸ì˜ ê³ ìœ  ì†ì„±ë“¤ì„ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.
- ì»´í¬ë„ŒíŠ¸ì— ì†ì„±ì„ ë¶€ì—¬í•  ë•Œ styled componentì—ì„œë„ ì†ì„±ì„ ë¶€ì—¬í•  ìˆ˜ ìˆë‹¤
  `const Input = styled.input.attrs({required: true, minLength: 10})` ë°©ì‹ê³¼ ê°™ì´ ë’¤ì— ì†ì„±ì„ ë¶™ì—¬ë„£ìœ¼ë©´ ëœë‹¤.
- styled component ë‚´ë¶€ì— ìˆëŠ” íƒœê·¸ë„ style ì ìš©ì´ ê°€ëŠ¥í•˜ë‹¤. ì•„ë˜ëŠ” ë‚´ë¶€ spanì— styleì„ ì ìš©í•œ ê²ƒ. **targetë°©ì‹ ì´ë¼ê³  í•œë‹¤**

  ```jsx
  const Box3 = styled.div`
    height: 200px;
    width: 200px;
    span {
       {
        /* ì´ë¶€ë¶„ì´ target ë°©ì‹*/
      }
      font-size: 20px;
      &:hover {
        /* &ëŠ” span ìê¸° ìì‹ ì„ ëœ»í•˜ëŠ” ê²ƒì´ë‹¤. */
        font-size: 40px; /* span:hover targetì„ í•œë²ˆ ë” ë§Œë“œëŠ” ê²ƒì„ ì§§ê²Œì“°ë ¤ê³  ë§Œë“ ê±° */
      }
    }
  `;

  function App() {
    aksdhfalskjdhfad;
    return (
      <Box3>
        <span>ğŸ˜Š</span>
      </Box3>
    );
  }
  ```

- ë§Œì•½ ë‹¤ë¥¸ styled componentë¥¼ targetë°©ì‹ìœ¼ë¡œ ì ìš©í•˜ê³  ì‹¶ìœ¼ë©´ componentì´ë¦„ì„ ${}ì— ì“°ë©´ ëœë‹¤

  ```jsx
  const Emoji = styled.span`
    font-size: 36px;
  `;

  const Box = styled.div`
    height: 200px;
    width: 200px;
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: tomato;
    align-items: center;
    animation: ${rotationAnimation} 2s linear infinite;
    ${Emoji} {
      /* styled componentë¥¼ Box styled componentì•ˆì— style ì ìš©í•œ ëª¨ìŠµ */
      &:hover {
        font-size: 98px;
      }
    }
  `;
  ```

  - ë˜ ë‹¤ë¥¸ ì˜ˆì‹œ

    ```jsx
    const Emoji = styled.span`
      font-size: 36px;
    `

    const Box = styled.div`
      height:200px;
      width:200px;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color:tomato;
      align-items : center;
      animation: ${rotationAnimation} 2s linear infinite;
      ${Emoji} {    {/* ì´ëŸ¬ë©´ asë¥¼ ì‚¬ìš©í•˜ì—¬ ë‹¤ë¥¸ íƒœê·¸ë¡œ */}
    		&:hover {   {/* ë°”ê¿”ë„ box ì•ˆì—ì„œ EmojiëŠ” ìŠ¤íƒ€ì¼ì´ ê·¸ëŒ€ë¡œì´ë‹¤. /*}
    	    font-size: 98px;
    	  }
      }


    `;

    function App() {
      return (
        <Wrapper>
          <Box>
            <Emoji as="p">ğŸ˜Š</Emoji>
    				{/* ì´ëŸ¬ë©´ asë¥¼ ì‚¬ìš©í•˜ì—¬ ë‹¤ë¥¸ íƒœê·¸ë¡œ */}
    				{/* ë°”ê¿”ë„ box ì•ˆì—ì„œ EmojiëŠ” ìŠ¤íƒ€ì¼ì´ ê·¸ëŒ€ë¡œì´ë‹¤. /*}
          </Box>
        </Wrapper>
      );
    }
    ```

- ì½”ë“œ ì˜ˆì‹œ

  ```jsx
  import styled from "styled-components";

  const Father = styled.div`
    display: flex;
  `;

  const Box = styled.div`
    background-color: ${(props) => props.bgColor};
    width: 100px;
    height: 100px;
  `;

  const Circle = styled.div`
    background-color: ${(props) => props.bgColor};
    width: 100px;
    height: 100px;
    border-radius: 50px;
  `;

  const Btn = styled.button`
    color: white;
    background-color: tomato;
    border: 0;
    border-radius: 15px;
  `;
  const Input = styled.input.attrs({ required: true, minLength: 10 })`
    background-color: tomato;
  `;

  function App() {
    return (
      <div>
        <Father as="header">
          {" "}
          {/* as ì†ì„±ì„ ì¨ì„œ ë‹¤ë¥¸íƒœê·¸ë¡œ ë°”ê¿ˆ */}
          <Box bgColor="teal" />
          <Circle bgColor="tomato" />
          <Btn>Log in</Btn>
          <Btn as="a" href="/">
            Log in
          </Btn> {/* as ì†ì„±ì„ ì¨ì„œ ë‹¤ë¥¸íƒœê·¸ë¡œ ë°”ê¿ˆ */}
          <Input /> {/* style componentì— ì˜í•´ ì†ì„±ì´ ë¶€ì—¬ë˜ì–´ìˆëŠ” ì»´í¬ë„ŒíŠ¸ */}
          <Input />
          <Input />
          <Input />
        </Father>
      </div>
    );
  }

  export default App;
  ```

---

# React +Typescript êµ¬ë¬¸ë“¤

## Props ì‚¬ìš©ë°©ë²• (Props Type ì§€ì •ë°©ë²•)

- ëª¨ë“  ì»´í¬ë„ŒíŠ¸, styled ì»´í¬ë„ŒíŠ¸ì— ì–´ë–¤ íƒ€ì…ì˜ argumentsê°€ ì£¼ì–´ì ¸ì•¼í•˜ëŠ”ì§€ interfaceë¡œ íƒ€ì…ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤.
- ì¸í„°í˜ì´ìŠ¤ì— argumentì˜ íƒ€ì…ì„ ì§€ì •í•´ì£¼ë©´ ê·¸ ì…ë ¥ê°’ì€ í•„ìˆ˜ë¡œ ì…ë ¥í•´ì•¼í•œë‹¤.
  í•˜ì§€ë§Œ argumentëª… ë’¤ì— ë¬¼ìŒí‘œ(?)ë¥¼ ë¶™ì´ë©´ ê·¸ argumentë¥¼ ì¤„ì§€ ì•ˆì¤„ì§€ëŠ” ì„ íƒì‚¬í•­ì´ ëœë‹¤
- ë¬¼ìŒí‘œë¥¼ ì£¼ë©´ argumentê°€ ì„ íƒì‚¬í•­ì´ ë˜ê¸°ì— default argument valueë¥¼ ì„¤ì •í•´ì¤„ í•„ìš”ê°€ ìˆë‹¤.
  2ê°€ì§€ ë°©ë²•ì´ ìˆëŠ”ë°

1. ì»¨í…Œì´ë„ˆ í•¨ìˆ˜ì˜ argument ì„ ì–¸ë¶€ì—ì„œ defaultë¥¼ ì„ ì–¸í•˜ëŠ” ë°©ë²•ì´ ìˆê³ ,
2. ì»¨í…Œì´ë„ˆ í•¨ìˆ˜ì˜ argumentë¥¼ ì‚¬ìš©í•  ë•Œ [Null ë³‘í•© ì—°ì‚°ì (Nullish coalescing operator)]ë¥¼ ì‚¬ìš©í•˜ì—¬ argumentê°€ nullì¼ ë•Œ defaultë¥¼ ë¶€ì—¬í•´ì£¼ëŠ” ë°©ë²•ì´ ìˆë‹¤.

   ```jsx
   import styled from "styled-components";

   interface ContainerProps {
     bgColor: string;
     borderColor: string; // ContainerPropsì—ëŠ” borderColorê°€ í•„ìˆ˜ argì´ë‹¤.
   }

   const Container =
     styled.div <
     ContainerProps >
     `
       width:200px;
       height:200px;
       background-color:${(props) => props.bgColor};
       border-radius:50%;
       border:1px solid ${(props) => props.borderColor};
   `;

   interface CircleProps {
     bgColor: string; // í•„ìˆ˜ arg
     borderColor?: string; // ì„ íƒ arg
     text?: string; // ì„ íƒ arg
   }

   function Circle({ bgColor, borderColor, text = "default text" }: CircleProps) {
     // argë¥¼ ì§€ì •í•˜ëŠ” ë¶€ë¶„ì—ì„œ textì˜ default ê°’ì„ ì§€ì •í•¨.
     return (
       <Container bgColor={bgColor} borderColor={borderColor ?? "yellow"}>
         {" "}
         {/* borderColorê°€ ì—†ìœ¼ë©´ default ê°’ìœ¼ë¡œ yellowë¥¼ ì§€ì •í•¨. */}
         {text}
       </Container>
     );
   }

   export default Circle;

   <Circle bgColor="red" borderColor="blue" text="asdf" />;
   ```

## state ì‚¬ìš©ë°©ë²• (useState Type ì§€ì •ë°©ë²•)

- typescriptë¥¼ ì“´ StateëŠ” ê¼­ íƒ€ì…ì„ ì§€ì •í•´ì£¼ì§€ ì•Šì•„ë„ ëœë‹¤.  
  ë‹¨ defaultê°’ì„ ë„£ì–´ì£¼ëŠ”ê²ƒì„ ì¶”ì²œ
- `const [value, setValue] = useState(1);`ì™€ ê°™ì€ ì¼€ì´ìŠ¤ì˜ ê²½ìš° useState()ì•ˆì— ìˆëŠ” valueê°’ìœ¼ë¡œ ë³€ìˆ˜ valueì™€ setValueì˜ íƒ€ì…ì„ ìë™ ì¶”ì •í•œë‹¤.
- `const [value, setValue] = useState<number>();`ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì œë„¤ë¦­ì„ ì‚¬ìš©í•˜ì—¬ íƒ€ì…ì„ ì§€ì •í•´ ì¤„ìˆ˜ë„ ìˆë‹¤.
- í•œê°œì˜ stateì—ì„œ ì—¬ëŸ¬ê°€ì§€ íƒ€ì…ì„ ì‚¬ìš©í•  ë•Œì—ëŠ”
  `const [value, setValue] = useState<number|string>();`ì™€ ê°™ì€ ë¬¸ë²•ì„ ì‚¬ìš©í•œë‹¤.

## event ì‚¬ìš©ë°©ë²• (event Type ì§€ì •ë°©ë²•)

- Typesciprt + Reactì—ì„œ eventë¥¼ ì‚¬ìš©í•  ë•Œì—ëŠ” ë³´í†µ eventì•ˆì— í•¨ìˆ˜ë¥¼ ì“°ê³ , ê·¸ í•¨ìˆ˜ì˜ argumentì— eventì¸ìê°€ ë“¤ì–´ê°„ë‹¤. ì´ ë•Œ í•¨ìˆ˜ì˜ event ì¸ì ë’¤ì— eventì˜ íƒ€ì…ì„ ì§€ì •í•´ì£¼ì–´ì•¼ í•˜ëŠ”ë° ì¢€ íŠ¹ì´í•˜ë‹¤. ì•„ë˜ ì½”ë“œë¥¼ ë”°ë¼í•˜ë©´ ëœë‹¤.

  ```
  import { useState } from "react";

  function App() {
    const [value, setValue] = useState("");
  	// currentTargetì€  reactì—ì„œ ì‚¬ìš©í•˜ëŠ” ë¬¸ë²•ìœ¼ë¡œ ê·¸ëƒ¥ targetê³¼ ê°™ë‹¤.
    const onChange = (event: React.FormEvent<HTMLInputElement>) => {
      const {
        currentTarget: { value },
      } = event;
      setValue(value);
    };

    const onSubmit = (event: React.FormEvent<HTMLFormElement>) => {
      event.preventDefault();
      console.log("hello", value);
    };

    return (
      <div>
        <form onSubmit={onSubmit}>
          <input value={value} onChange={onChange} type="text" placeholder="username" />
          <button>Log in</button>
        </form>
      </div>
    );
  }

  export default App;
  ```

---

# Router ì‚¬ìš©ë°©ë²• (6ë²„ì „ ì´ìƒë¶€í„°ëŠ” routerì‚¬ìš©ë°©ë²•ì´ ë§ì´ ë°”ë€œ)

- ë¼ìš°íŠ¸ APIì™€ ì»´í¬ë„ŒíŠ¸ë“¤

  ![image](/image/REACTJS2.png)

## BrowserRouter (ë¼ìš°íŒ…)

- íŠ¹ì§• : switch ëŒ€ì‹  route ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©. pathì™€ ë‚´ë¶€ ì»´í¬ë„ŒíŠ¸ë„ routeì˜ ì†ì„±ìœ¼ë¡œ ë“¤ì–´ê°.
- Router.tsx

  ```jsx
  import { BrowserRouter, Routes, Route } from "react-router-dom";
  import Header from "./component/Header";
  import Home from "./pages/Home";
  import About from "./pages/About";

  function Router() {
    return (
      <BrowserRouter>
        <Header />
        <Routes>
          <Route path="/" element={<Home />} />
          <Route path="/about" element={<About />} />
        </Routes>
      </BrowserRouter>
    );
  }

  export default Router;
  ```

- App.tsx

  ```jsx
  import React from "react";
  import Router from "./Router";

  function App() {
    return (
      <div>
        <Router />
      </div>
    );
  }

  export default App;
  ```

- Header.tsx

  ```jsx
  import { Link } from "react-router-dom";

  function Header() {
    return (
      <header>
        <ul>
          <li>
            <Link to={"/"}>Home</Link>
          </li>
          <li>
            <Link to={"/about"}>About</Link>
          </li>
        </ul>
      </header>
    );
  }
  export default Header;
  ```

## CreateBrowserRouter (ë¼ìš°íŒ…,ê¶Œì¥)

- CreateBrowserRouterì—ì„œëŠ” Router.tsxíŒŒì¼ì—ì„œ Routerë¥¼ íƒœê·¸ë¡œ ê´€ë¦¬í•˜ì§€ ì•Šê³ , pathì™€ element ê°’ì„ ê°€ì§„ Router ë³€ìˆ˜ë¡œ ê´€ë¦¬í•œë‹¤.
- Router.tsx

  ```jsx
  import { Routes, Route, createBrowserRouter } from "react-router-dom";
  import Header from "./component/Header";
  import Home from "./pages/Home";
  import About from "./pages/About";
  import Root from "./Root";

  const router = createBrowserRouter([
    {
      path: "/", // ë£¨íŠ¸ ê²½ë¡œ
      element: <Root />, // ë£¨íŠ¸ ì»´í¬ë„ŒíŠ¸
      children: [
        // ìì‹ ë¼ìš°í„°
        {
          path: "", // ìì‹ ë¼ìš°í„°ì˜ ê²½ë¡œ
          element: <Home />, // ìì‹ ë¼ìš°í„°ì˜ ì»´í¬ë„ŒíŠ¸
        },
        {
          path: "about", // ìì‹ ë¼ìš°í„°ì˜ ê²½ë¡œ
          element: <About />, // ìì‹ ë¼ìš°í„°ì˜ ì»´í¬ë„ŒíŠ¸
        },
      ],
    },
  ]);

  export default router;
  ```

- routerì—ì„œ (/) pathì˜ ìì‹ pathë“¤ì„ ìƒì„±í•  ìˆ˜ ìˆëŠ”ë°, /aboutì´ë¼ê³  ì…ë ¥í•˜ë©´
  <Root /> ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì˜ <Outlet />ì»´í¬ë„ŒíŠ¸ê°€ ìˆëŠ” ê³³ì´ ìì‹ ì»´í¬ë„ŒíŠ¸ <About />ì´ ë Œë”ë§ ë  ìë¦¬ì´ë‹¤.
- Root.tsx 127.0.0.1/about

  ```jsx
  import React from "react";
  import { Outlet } from "react-router-dom";
  import Header from "./component/Header";

  function Root() {
    return (
      <div>
        <Header />
        <Outlet /> {/* ìì‹ ë¼ìš°í„°ë¥¼ ë Œë”ë§í•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤ */}
      </div>
    );
  }

  export default Root;
  ```

- index.tsxì—ì„œëŠ” ì´ëŸ¬í•œ ë¼ìš°í„° ìë¦¬ë¥¼ <RouterProvider router={} /> ì»´í¬ë„ŒíŠ¸ë¥¼ í†µí•´ì„œ ì œê³µí•˜ê³  ìˆë‹¤.
- index.tsx

  ```jsx
  import React from "react";
  import ReactDOM from "react-dom/client";
  import router from "./Router";
  import { RouterProvider } from "react-router-dom";

  const root = ReactDOM.createRoot(document.getElementById("root") as HTMLElement);
  root.render(
    <React.StrictMode>
      <RouterProvider router={router} />
      {/* RouterProviderë¥¼ í†µí•´ ë¼ìš°í„°ë¥¼ ì œê³µí•©ë‹ˆë‹¤. routerëŠ” src/Router.tsxì—ì„œ ë§Œë“  ë¼ìš°í„°ì…ë‹ˆë‹¤. */}
    </React.StrictMode>
  );
  ```

## ErrorElement (ë¼ìš°íŒ…ì‹¤íŒ¨ì‹œ)

- ì»´í¬ë„ŒíŠ¸ì— ì—ëŸ¬ ë°œìƒí•˜ê±°ë‚˜ ì»´í¬ë„ŒíŠ¸ ìœ„ì¹˜ë¥¼ ì°¾ì§€ ëª»í•  ë–„ ì“°ëŠ” ì—ëŸ¬ ì—˜ëŸ¬ë¨¼íŠ¸
- routerì—ì„œ ì—ëŸ¬ì—˜ëŸ¬ë¨¼íŠ¸ë¥¼ ì§€ì •í•´ì£¼ë©°, í•´ë‹¹ ê²½ë¡œê°€ ì˜¤ë¥˜ê°€ ìˆê±°ë‚˜ ì»´í¬ë„ŒíŠ¸ì— ì´ìƒì´ ìˆì„ ì‹œ elementë Œë”ë§ì„ í•˜ì§€ ì•Šê³ , errorElementë¥¼ ë Œë”ë§ í•¨.
- pathì— â€œ:/userIdâ€ì™€ ê°™ì€ ê²ƒë„ ì‚¬ìš©ì´ ê°€ëŠ¥í•œë°, í•´ë‹¹ pathì™€ ì—°ê²°ëœ componentì—ì„œ userIdë¥¼ useParams()ë¥¼ í†µí•´ ì‚¬ìš©ê°€ëŠ¥í•˜ì—¬ urlì— ì ‘ê·¼ê°€ëŠ¥í•˜ê²Œ ë¨.
- Router.tsx

  ```jsx
  import { Routes, Route, createBrowserRouter } from "react-router-dom";
  import About from "./pages/About";
  import Root from "./Root";
  import NotFound from "./pages/NotFound";
  import Home from "./pages/Home";
  import ErrorComponents from "./component/ErrorComponents";
  import User from "./pages/users/User";

  const router = createBrowserRouter([
    {
      path: "/", // ë£¨íŠ¸ ê²½ë¡œ
      element: <Root />, // ë£¨íŠ¸ ì»´í¬ë„ŒíŠ¸
      children: [
        // ìì‹ ë¼ìš°í„°
        {
          path: "", // ìì‹ ë¼ìš°í„°ì˜ ê²½ë¡œ
          element: <Home />, // ìì‹ ë¼ìš°í„°ì˜ ì»´í¬ë„ŒíŠ¸
          errorElement: <ErrorComponents />,
        },
        {
          path: "about", // ìì‹ ë¼ìš°í„°ì˜ ê²½ë¡œ
          element: <About />, // ìì‹ ë¼ìš°í„°ì˜ ì»´í¬ë„ŒíŠ¸
        },
      ],
      errorElement: <NotFound />,
    },
  ]);

  export default router;
  ```

## UseNavigate (ë¼ìš°íŒ… í•¨ìˆ˜)

- í˜ì´ì§€ì´ë™ì´ë€ ê°œë…ì—ì„œ <Link />ì™€ ë¹„ìŠ·í•˜ì§€ë§Œ useNavigateëŠ” í•¨ìˆ˜ì´ë‹¤.
  ë”°ë¼ì„œ ë‹¤ë¥¸ ë¡œì§ì—ì„œ ì“°ì¼ ìˆ˜ ìˆë‹¤.
- ì•„ë˜ ì˜ˆì‹œì˜ Linkì™€ navigateëŠ” ë‘˜ ë‹¤ í˜ì´ì§€ ì´ë™ì— ì“°ì´ì§€ë§Œ navigateëŠ” ë¡œì§ì•ˆì—ì„œ êµ¬í˜„ë˜ì—ˆê¸°ì— ì—¬ëŸ¬ ë°©ë©´ìœ¼ë¡œ ì‚¬ìš©ì´ ê°€ëŠ¥í•œ ê²ƒì´ë‹¤.
- ì˜ˆì‹œ

  ```jsx
  import { Link, useNavigate } from "react-router-dom";

  function Header() {
    const navigate = useNavigate();
    const onAboutClick = () => {
      if (window.confirm("About í˜ì´ì§€ë¡œ ì´ë™í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) navigate("/about");
    };
    return (
      <header>
        <ul>
          <li>
            <Link to={"/"}>Home</Link>
          </li>
          <li>
            <button onClick={onAboutClick}>About</button>
          </li>
        </ul>
      </header>
    );
  }
  export default Header;
  ```

- `navigate(-1)`` ì€ ë’¤ë¡œê°€ê¸° ë²„íŠ¼ì„ ëˆ„ë¥´ëŠ”ê²ƒê³¼ ê°™ë‹¤.

## UseParams (url ì ‘ê·¼í•˜ì—¬ param ê°€ì ¸ì˜¤ê¸°)

- pathì— â€œ:/userIdâ€ì™€ ê°™ì€ url Parameterë„ ì‚¬ìš©ì´ ê°€ëŠ¥í•œë°, í•´ë‹¹ pathì™€ ì—°ê²°ëœ componentì—ì„œ userIdë¥¼ useParams()ë¥¼ í†µí•´ ì‚¬ìš©ê°€ëŠ¥í•˜ì—¬ urlì— ì ‘ê·¼ê°€ëŠ¥í•˜ê²Œ ë¨.
- Router.tsx

  ```jsx
  import { Routes, Route, createBrowserRouter } from "react-router-dom";
  import About from "./pages/About";
  import Root from "./Root";
  import NotFound from "./pages/NotFound";
  import Home from "./pages/Home";
  import ErrorComponents from "./component/ErrorComponents";
  import User from "./pages/users/User";

  const router = createBrowserRouter([
    {
      path: "/", // ë£¨íŠ¸ ê²½ë¡œ
      element: <Root />, // ë£¨íŠ¸ ì»´í¬ë„ŒíŠ¸
      children: [
        // ìì‹ ë¼ìš°í„°
        {
          path: "", // ìì‹ ë¼ìš°í„°ì˜ ê²½ë¡œ
          element: <Home />, // ìì‹ ë¼ìš°í„°ì˜ ì»´í¬ë„ŒíŠ¸
          errorElement: <ErrorComponents />,
        },
        {
          path: "users/:userId", // ìì‹ ë¼ìš°í„°ì˜ ê²½ë¡œ, :userId(url prarmater)ëŠ” User.tsxì—ì„œ useParams()ë¥¼ í†µí•´ ì ‘ê·¼ ê°€ëŠ¥í•˜ë‹¤.
          element: <User />,
        },
        // ì•„ë˜ì²˜ëŸ¼ í•˜ë©´ /usersì—ì„œ ë¦¬ìŠ¤íŠ¸ë¥¼ ë³´ì—¬ì£¼ê³  ì‹¶ì„ ë•Œì— ì ì ˆí•˜ê²Œ ì‚¬ìš©ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤.
        // {
        //   path: "users",
        //   element: <User />,
        //   children: [
        //     {
        //       path: ":userId",
        //       element: <User />,
        //     },
        //   ],
        // },
      ],
      errorElement: <NotFound />,
    },
  ]);

  export default router;
  ```

- User.tsx (ìœ„ì—ì„œ pathì— ì‚¬ìš©í•œ â€œ:userIdâ€ë¥¼ useParams()ë¥¼ í†µí•´ ì ‘ê·¼í•œ ëª¨ìŠµ)

  ```jsx
  import { useParams } from "react-router-dom";
  import { users } from "../../db";

  function User() {
    const { userId } = useParams();
    return (
      <h1>
        User with it {userId} is named: {users[Number(userId) - 1].name}
      </h1>
    );
  }
  export default User;
  ```

- ìœ ì €ì •ë³´ë¥¼ ì ì‹œ ì˜ˆë¹„ë¡œ ì €ì¥í•˜ë ¤ê³  ë§Œë“  ê³ ì •ë³€ìˆ˜ê°€ ë“¤ì–´ìˆëŠ” íŒŒì¼ (db.ts)
  ```jsx
  export const users = [
    {
      id: 1,
      name: "nico",
    },
    {
      id: 2,
      name: "lynn",
    },
  ];
  ```

### ì¢€ ë” ê¹Šê²Œ ë“¤ì–´ê°€ë©´ url parameterì•ˆì—ì„œë„ children ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.

- Router.tsx

  ```jsx
  import { createBrowserRouter } from "react-router-dom";
  import About from "./pages/About";
  import Root from "./Root";
  import NotFound from "./pages/NotFound";
  import Home from "./pages/Home";
  import ErrorComponents from "./component/ErrorComponents";
  import User from "./pages/users/User";
  import Followers from "./pages/users/Followers";

  const router = createBrowserRouter([
    {
      path: "/", // ë£¨íŠ¸ ê²½ë¡œ
      element: <Root />, // ë£¨íŠ¸ ì»´í¬ë„ŒíŠ¸
      children: [
        // ìì‹ ë¼ìš°í„°
        {
          path: "", // ìì‹ ë¼ìš°í„°ì˜ ê²½ë¡œ
          element: <Home />, // ìì‹ ë¼ìš°í„°ì˜ ì»´í¬ë„ŒíŠ¸
          errorElement: <ErrorComponents />,
        },
        {
          // ìì‹ ë¼ìš°í„°ì˜ ê²½ë¡œ, :userId(url prarmater) ëŠ” User.tsxì—ì„œ useParams()ë¥¼ í†µí•´ ì ‘ê·¼ ê°€ëŠ¥í•˜ë‹¤.
          path: "users/:userId",
          element: <User />,
          children: [
            {
              path: "followers",
              element: <Followers />,
            },
          ],
        },
      ],
      errorElement: <NotFound />,
    },
  ]);

  export default router;
  ```

- Home.tsx

  ```jsx
  import { Link } from "react-router-dom";
  import { users } from "../db";

  function Home() {
    return (
      <div>
        <h1>Users</h1>
        <ul>
          {users.map((user) => (
            <li key={user.id}>
              <Link to={`/users/${user.id}`}>{user.name}</Link>
            </li>
          ))}
        </ul>
      </div>
    );
  }
  export default Home;
  ```

- Follwers.tsx (ê°™ì€ routerì— ìˆë‹¤ë©´ url parameterì— ìì‹ì»´í¬ë„ŒíŠ¸ë„ ì ‘ê·¼ê°€ëŠ¥í•˜ë‹¤)

  ```jsx
  import { useParams } from "react-router-dom";

  function Followers() {
    const { userId } = useParams();
    return <h1>Followers userId : {userId}</h1>;
  }
  export default Followers;
  ```

## UseOutletContext (ìì‹ì»´í¬ë„ŒíŠ¸ prop ëŒ€ìš©)

`<outlet>` ì—˜ë¦¬ë¨¼íŠ¸ì— í•´ë‹¹í•˜ëŠ” ìì‹ ì»´í¬ë„ŒíŠ¸ì—ê²Œ ê°’ì„ ì „ë‹¬í•  ë•Œ ì‚¬ìš©í•˜ëŠ”ê²ƒ.
outletì—ì„œëŠ” propsë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì²˜ëŸ¼ í•¨ìˆ˜ì˜ argì—ì„œ ê°’ì„ ë°›ì§€ ì•Šê³ , useOutletContextë¥¼ ì´ìš©í•´ì„œ ê°’ì„ ì „ë‹¬ë°›ì•„ì•¼ í•œë‹¤.

- User.tsx

  ```jsx
  import { Link, Outlet, useParams } from "react-router-dom";
  import { users } from "../../db";

  function User() {
    const { userId } = useParams();
    return (
      <div>
        <h1>
          User with it {userId} is named: {users[Number(userId) - 1].name}
        </h1>
        <hr />
        <Link to="followers">See followers</Link>
        <Outlet
          context={{
            nameOfMyUser: users[Number(userId) - 1].name,
          }}
        />
      </div>
    );
  }
  export default User;
  ```

- Followers.tsx

  - userOuletContextë¥¼ í†µí•´ì„œ Outletì—ì„œ ì „ë‹¬í•œ ê°’ì„ ë°›ëŠ” ëª¨ìŠµ.
  - useOuletContextì´ ì „í•´ì¤„ ë³€ìˆ˜ë“¤ì˜ íƒ€ì…ì€ ì¸í„°í˜ì´ìŠ¤ì™€ ì œë„¤ë¦­ì„ í†µí•´ì„œ íƒ€ì…ì„ ì§€ì •í•¨.

  ```jsx
  import { useOutletContext } from "react-router-dom";

  interface IFollowersContext {
    nameOfMyUser: string;
  }

  function Followers() {
    const { nameOfMyUser } = useOutletContext<IFollowersContext>();
    console.log(nameOfMyUser);
    return <h1>Here are {nameOfMyUser}ì˜ followers</h1>;
  }
  export default Followers;
  ```

## UseSearchParams (url ì ‘ê·¼í•˜ì—¬ querystring ê°€ì ¸ì˜¤ê¸°)

- URLì— ìˆëŠ” ì¿¼ë¦¬ìŠ¤íŠ¸ë§ì— ìˆëŠ” ?key1=value1&key2=value2ë“¤ì„ ëª¨ë‘ ê°€ì ¸ì˜¨ë‹¤.
- `const [readSearchParams, setReadSearchParams] = useSearchParams();`
- ìœ„ êµ¬ë¬¸ì„ ì‚¬ìš©í•˜ë©´ ì¿¼ë¦¬ì— ìˆëŠ” key, valueì„ ëª¨ë‘ ê°€ì ¸ì˜¤ë©°,
  readSearchParams.get(â€key1â€)ì„ í†µí•´ valueë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.
- setReadSerchParmas()ë¥¼ ì‚¬ìš©í•˜ë©´ ê°’ì„ ìˆ˜ì • ê°€ëŠ¥í•˜ë‹¤.
- useStateì™€ ì‚¬ìš©ë°©ì‹ì´ ë§¤ìš° ìœ ì‚¬í•˜ë©°, setí•¨ìˆ˜ë¥¼ ì´ìš©í•´ì„œ ê°’ì„ ë³€ê²½í–ˆì„ ë•Œ ìƒˆë¡œ ëœë”ë§ ëœë‹¤. ì´ê²ƒ ë˜í•œ usetStateì™€ ë§¤ìš° ìœ ì‚¬í•˜ê²Œ ë™ì‘í•œë‹¤.

---

# Redux (ì„¤ì¹˜ ë°©ë²• ë° ì‚¬ìš©ë°©ë²•)

- ê¸°ì¡´ í”„ë¡œì íŠ¸ì— ë¦¬ë•ìŠ¤ ì„¤ì¹˜ : `npx install redux`
- ê¸°ì¡´í”„ë¡œì íŠ¸ê°€ ë¦¬ì—‘íŠ¸ë¼ë©´ ë¦¬ì—‘íŠ¸-ë¦¬ë•íŠ¸ë„ ì„¤ì¹˜ `npx install react-redux`
- ê¸°ì¡´ ë¦¬ì—‘íŠ¸ í”„ë¡œì íŠ¸ê°€ typescriptë¥¼ ì‚¬ìš©í•œë‹¤ë©´ `npm install @type/react-redux`
- react+redux ìƒì„± : `npx create-react-app [í”„ë¡œì íŠ¸ëª…] --template redux`
- react+TS+redus ìƒì„± : `npx create-react-app [í”„ë¡œì íŠ¸ëª…] --template redux-typescript`
- **TIP. ìš”ì¦˜ì€ react-reduxì„¤ì¹˜í•˜ë©´ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ìš© ëª¨ë“ˆë„ ê°™ì´ ì„¤ì¹˜ëœë‹¤.**

## Redux ê¸°ë³¸

## Store

- **createStore**ë¥¼ ì‚¬ìš©í•˜ì—¬ ì˜¤ë¸Œì íŠ¸ ë³€ìˆ˜storeë¥¼ ë§Œë“¤ë©´ store ë³€ìˆ˜ ì•ˆì—ëŠ” Reducerê°€ ì§€ì›í•˜ëŠ” dispatch, subscribe, getState, replaceReducer 4ê°œì˜ í•¨ìˆ˜ê°€ ë“¤ì–´ìˆë‹¤.
- createStoreë¥¼ ë§Œë“¤ ë•Œì—ëŠ” ì¸ìì— reducerë¥¼ ë„£ì–´ reducerë¥¼ ì§€ì •í•´ì¤˜ì•¼ í•œë‹¤.

## Reducer

- Reducerê°€ storeë³´ë‹¤ ìƒìœ„ ê°œë…ì´ë©°, storeëŠ” reducerì˜ ë°©ì‹ì— ë”°ë¼ ë™ì‘í•œë‹¤.
- dispatch, subscribe, getState, replaceReducer 4ê°œì˜ í•¨ìˆ˜ê°€ ë“¤ì–´ìˆë‹¤.
- Reducerì€ stateì™€ action 2ê°œì˜ ì¸ìë¥¼ í•„ìš”ë¡œ í•œë‹¤.
  ```jsx
  const Reducer = (state = 0, action) => {
    console.log(state, action);
    if (action.type === "ADD") {
      return state + 1;
    } else if (action.type === "MINUS") {
      return state - 1;
    } else {
      return state;
    }
  };
  ```
- Reducerì˜ stateì—ëŠ” í˜„ì¬ storeì— ë“¤ì–´ìˆëŠ” ê°’ì´ stateì— ìë™ìœ¼ë¡œ ë“¤ì–´ê°„ë‹¤.
- **Action**ì€ ì˜¤ë¸Œì íŠ¸ì˜ í˜•íƒœë¡œ ì¸ìë¥¼ ì£¼ì–´ì•¼ í•œë‹¤. Reducerë¥¼ ì»¨íŠ¸ë¡¤ í•˜ê¸° ìœ„í•œ ì¸ìë¡œ ì“°ì¸ë‹¤.
- `dispatch({ type: â€˜ADDâ€™ })`ë¡œ Actionì— ê°’ì´ ë“¤ì–´ì™”ë‹¤ë©´ Reducerì—ì„œëŠ” action.typeìœ¼ë¡œ í˜¸ì¶œí•˜ë©´ ëœë‹¤.
- dispatchì˜ ì˜¤ë¸Œì íŠ¸ì˜ keyì´ë¦„ì€ ë°˜ë“œì‹œ typeì´ì–´ì•¼ í•œë‹¤.
  ### dispatch() - ìš”ì¦˜ì€ useDispatch()ë¥¼ ì”€
  - Reducerì— action ê°’ì„ ì£¼ì–´ì„œ stateë¥¼ ë°”ê¾¸ëŠ” ìš©ë„ì˜ í•¨ìˆ˜.
  - storeëª….dispatch(ì˜¤ë¸Œì íŠ¸) í˜•íƒœë¡œ ì“°ì¸ë‹¤.
  - `store.dispatch({ type: 'ADD' });`

### getState() - ìš”ì¦˜ì€ useSelector()ë¥¼ ì”€

- getStateë˜í•œ Reducerê°€ ì§€ì›í•˜ëŠ” í•¨ìˆ˜ë¡œ, storeê°€ ê°€ì§€ê³  ìˆëŠ” stateë¥¼ ë°˜í™˜í•œë‹¤.
- `store.getState()`

### subscribe(listener)

- subscribe()ëŠ” storeì˜ ê°’ì´ ë³€ê²½ë˜ì—ˆì„ ê²½ìš° ìë™ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜ì´ë©°, listenerí•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œí‚¨ë‹¤.
- ì´ í•¨ìˆ˜ë¡œ ì¸í•´ì„œ storeì˜ ê°’ì´ ë³€ê²½ë˜ì—ˆì„ ê²½ìš° ëœë”ë§ì„ ë‹¤ì‹œ í•˜ë„ë¡ ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìˆë‹¤.

### Reducerì˜ í•„ìˆ˜ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œ ì½”ë“œ

```jsx
import { createStore } from "redux";

const add = document.getElementById("add");
const minus = document.getElementById("minus");
const number = document.querySelector("span");

const Reducer = (state = 0, action) => {
  switch (action.type) {
    case "ADD":
      return state + 1;
    case "MINUS":
      return state - 1;
    default:
      return state;
  }
};

const store = createStore(Reducer);

const onChange = () => {
  number.innerText = store.getState();
};

store.subscribe(onChange);

const handleAdd = () => {
  store.dispatch({ type: "ADD" });
};

const handleMinus = () => {
  store.dispatch({ type: "MINUS" });
};

add.addEventListener("click", handleAdd);
minus.addEventListener("click", handleMinus);
```

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/07f0fd8d-9bba-4cb3-973b-67f26ef2e0da/f027dd3a-d98f-4d7e-95f0-ca829fe06f39/Untitled.png)

## Redux - React

### Provider

- Reactì—ì„œ reduxë¥¼ ì—°ê²°í•˜ê¸° ìœ„í•œ ì»´í¬ë„ŒíŠ¸ì´ë‹¤.
- storeë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” Provider ì—˜ëŸ¬ë¨¼íŠ¸ ì•ˆì— ìˆì–´ì•¼ í•œë‹¤.
- index.js

  ```jsx
  import React from "react";
  import ReactDOM from "react-dom";
  import App from "./components/App";
  import { Provider } from "react-redux";
  import store from "./store";

  ReactDOM.render(
    <Provider store={store}>
      <App />
    </Provider>,
    document.getElementById("root")
  );
  ```

### connect â˜…

- ì»´í¬ë„ŒíŠ¸ë¥¼ storeì— ì—°ê²°í•´ì£¼ëŠ” ì—­í• 
- connectëŠ” 2ê°œì˜ argumentë¥¼ ê°€ì§„ë‹¤.
- Dispatchê°€ í•„ìš”í•˜ì§€ ì•Šì€ connectë¥¼ ì„ ì–¸í•  ë•Œ : `connect(mapStateToProps)(Home)`
- stateëŠ” í•„ìš”ì—†ê³  Dispatchê°€ í•„ìš”í•œ connectë¥¼ ì„ ì–¸í•  ë•Œ :
  `connect(null, mapDispatchToProps)(Home)`
- stateì™€ dispatch ë‘˜ ë‹¤ í•„ìš”í•œ connectë¥¼ ì„ ì–¸í•  ë•Œ :
  `connect(mapStateToProps, mapDispatchToProps)(Home)`
- store.js

  ```jsx
  import { createStore } from "redux";

  const ADD = "ADD";
  const DELETE = "DELETE";

  const addToDo = (text) => {
    return {
      type: ADD,
      text,
    };
  };

  const deleteToDo = (id) => {
    return {
      type: DELETE,
      id,
    };
  };

  const reducer = (state = [], action) => {
    switch (action.type) {
      case ADD:
        return [{ text: action.text, id: Date.now() }, ...state];
      case DELETE:
        return state.filter((toDo) => toDo !== action.id);
      default:
        return state;
    }
  };

  const store = createStore(reducer);

  export const actionCreators = {
    addToDo,
    deleteToDo,
  };

  export default store;
  ```

- Home.js

  ```jsx
  import React, { useState } from "react";
  import { connect } from "react-redux";
  import { actionCreators } from "../store";

  function Home({ toDos, addToDo }) {
    console.log(toDos);
    const [text, setText] = useState("");
    function onChange(e) {
      setText(e.target.value);
    }
    function onSubmit(e) {
      e.preventDefault();
      addToDo(text);
      setText("");
    }
    return (
      <>
        <h1>To Do</h1>
        <form onSubmit={onSubmit}>
          <input type="text" value={text} onChange={onChange} />
          <button>Add</button>
        </form>
        <ul>{JSON.stringify(toDos)}</ul>
      </>
    );
  }

  // mapStateToPropsëŠ” stateë¥¼ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜ì´ë‹¤.
  // stateëŠ” storeì—ì„œ ê°€ì ¸ì˜¨ë‹¤.
  function mapStateToProps(state) {
    return { toDos: state };
  }

  function mapDispatchToProps(dispatch) {
    return {
      addToDo: (text) => dispatch(actionCreators.addToDo(text)),
    };
  }

  export default connect(mapStateToProps, mapDispatchToProps)(Home);
  // connectëŠ” Homeìœ¼ë¡œ ë³´ë‚´ëŠ” propsì— ì¶”ê°€ë  ìˆ˜ ìˆë„ë¡ í—ˆìš©í•œë‹¤.
  ```

- connectëŠ” ì»´í¬ë„ŒíŠ¸ì™€ storeë¥¼ ì—°ê²°í•˜ëŠ” ì—­í• ì„ í•œë‹¤.
- ê·¸ ì¤‘ì—ì„œ getì„ í•  ê²ƒì¸ì§€, dispatchë¥¼ í•  ê²ƒì¸ì§€, ë‘˜ ë‹¤ í•  ê²ƒì¸ì§€ë¥¼ ì¸ìë¥¼ ë„£ì–´ì£¼ì–´ì•¼ í•œë‹¤.
- mapStateToPropsëŠ” connectê°€ storeì—ì„œ stateë¥¼ ê°€ì ¸ì˜¤ë©´ ê·¸ stateë¥¼ propsì˜ í˜•íƒœë¡œ ë°”ê¾¸ì–´ì„œ ì»´í¬ë„ŒíŠ¸(Home)ì— ì „ë‹¬í•˜ëŠ” ì—­í• ì„ í•œë‹¤.
- mapDispatchToPropsëŠ” connectê°€ storeì—ì„œ ì •ì˜í•œ actionì„ ê°€ì ¸ì˜¤ë©´ ê·¸ actionì„ dispatchì— ë„£ì–´ ì»´í¬ë„ŒíŠ¸ì— ì „ë‹¬í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ê°€ dispatch(action)ì„ ì‹¤í–‰í•˜ë©´ storeì˜ ê°’ì´ ë°”ë€Œê²Œ ëœë‹¤.
- connect í•¨ìˆ˜ëŠ” storeë¥¼ ê³„ì† ì£¼ì‹œí•˜ê³  ìˆë‹¤ê°€ storeì˜ ê°’ì´ ë°”ë€Œë©´ ìë™ìœ¼ë¡œ mapStateToPropsí•¨ìˆ˜ë¥¼ ì¬ì‹¤í–‰í•˜ê³ , mapStateToPropsëŠ” ì—°ê²°ëœ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‹¤í–‰ì‹œì¼œ ì»´í¬ë„ŒíŠ¸ëŠ” ë¦¬ëœë”ë§ ëœë‹¤.

UseSelector

## Redux-toolkit

- ì ì€ì–‘ì˜ ì½”ë“œë¡œ ë¦¬ë•ìŠ¤ë¥¼ ì‰½ê²Œ ì‘ì„±í•  ìˆ˜ ìˆê²Œ ë„ì™€ì£¼ëŠ” kit
- `npm install @reduxjs/toolkit` ë¡œ ì„¤ì¹˜

### createAction() - Action ë§Œë“œëŠ” ë°©ë²•ì„ ì¤„ì´ëŠ” kit

- createAction()ì„ ì‚¬ìš©í•˜ì§€ ì•Šì€ store.js

  ```jsx
  import { createStore } from "redux";

  const ADD = "ADD";
  const DELETE = "DELETE";

  export const addToDo = (text) => {
    return {
      type: ADD,
      text,
    };
  };

  export const deleteToDo = (id) => {
    return {
      type: DELETE,
      id: parseInt(id),
    };
  };

  const reducer = (state = [], action) => {
    switch (action.type) {
      case ADD:
        return [{ text: action.text, id: Date.now() }, ...state];
      case DELETE:
        return state.filter((toDo) => toDo !== action.id);
      default:
        return state;
    }
  };

  const store = createStore(reducer);

  export const actionCreators = {
    addToDo,
    deleteToDo,
  };

  export default store;
  ```

- createAction()ì„ ì‚¬ìš©í•˜ì—¬ ì½”ë“œë¥¼ ì¤„ì¸ store.js

  - createActionì„ ì‚¬ìš©í•˜ë©´ ì•¡ì…˜ì—ê²Œ ë³´ë‚´ëŠ” ì •ë³´ê°€ payLoadì™€ í•¨ê»˜ ë³´ë‚´ì§„ë‹¤. ê·¸ëƒ¥ ê´€í–‰ì´ë‹ˆ ì™¸ì›Œë¼

  ```jsx
  import { createStore } from "redux";
  import { createAction } from "@reduxjs/toolkit";

  const addToDo = createAction("ADD");
  const deleteToDo = createAction("DELETE");

  console.log(addToDo(), deleteToDo());

  const reducer = (state = [], action) => {
    switch (action.type) {
      case addToDo.type:
        console.log(action);
        return [{ text: action.payload, id: Date.now() }, ...state];
      case deleteToDo.type:
        return state.filter((toDo) => toDo.id !== action.payload);
      default:
        return state;
    }
  };

  const store = createStore(reducer);

  export const actionCreators = {
    addToDo,
    deleteToDo,
  };

  export default store;
  ```

### createReducer() - Reducerë§Œë“œëŠ” ë°©ë²•ì„ ì¤„ì´ëŠ” kit

- ë¯¸ë“¤ì›¨ì–´
- createAction()ì—ì„œ ë§Œë“¤ì—ˆë˜ ì½”ë“œì™€ ë¹„êµí•œë‹¤.
- createReducer()ì„ ì‚¬ìš©í•˜ì§€ ì•Šì€ store.js

  ```jsx
  import { createStore } from "redux";
  import { createAction } from "@reduxjs/toolkit";

  const addToDo = createAction("ADD");
  const deleteToDo = createAction("DELETE");

  console.log(addToDo(), deleteToDo());

  const reducer = (state = [], action) => {
    switch (action.type) {
      case addToDo.type:
        console.log(action);
        return [{ text: action.payload, id: Date.now() }, ...state];
      case deleteToDo.type:
        return state.filter((toDo) => toDo.id !== action.payload);
      default:
        return state;
    }
  };

  const store = createStore(reducer);

  export const actionCreators = {
    addToDo,
    deleteToDo,
  };

  export default store;
  ```

- createReducer()ì„ ì‚¬ìš©í•œ store.js

  ```jsx
  import { createStore } from "redux";
  import { createAction, createReducer } from "@reduxjs/toolkit";

  const addToDo = createAction("ADD");
  const deleteToDo = createAction("DELETE");

  const reducer = createReducer([], {
    [addToDo]: (state, action) => {
      state.push({ text: action.payload, id: Date.now() });
    },
    [deleteToDo]: (state, action) => state.filter((toDo) => toDo.id !== action.payload),
  });

  const store = createStore(reducer);

  export const actionCreators = {
    addToDo,
    deleteToDo,
  };

  export default store;
  ```

### configureStore - react develop toolsë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ëœë‹¤.

- createStoreë¥¼ ì‚¬ìš©í•˜ëŠ” ëŒ€ì‹  configureStoreë¥¼ ì‚¬ìš©í•˜ë©´ react develop toolsë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ëœë‹¤.
- `const store = configureStore({ reducer });`

### createSlice() - reducerê³¼ actionë¥¼ ë™ì‹œì— ìƒì„±í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” toolkit

- reducerê³¼ actionë„ ìƒì„±í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” toolkit
- createReducerì½”ë“œì—ì„œ ì•„ë˜ì½”ë“œë¡œ ë”ìš± ì¤„ì–´ì¡Œë‹¤.
- reducerê³¼ actionì„ ë™ì‹œì— ìƒì„±í•˜ëŠ” ëª¨ìŠµì´ë‹¤.

  ```jsx
  import { configureStore, createSlice } from "@reduxjs/toolkit";

  const toDos = createSlice({
    name: "toDosReducer",
    initialState: [],
    reducers: {
      add: (state, action) => {
        state.push({ text: action.payload, id: Date.now() });
      },
      remove: (state, action) => state.filter((toDo) => toDo.id !== action.payload),
    },
  });

  export const { add, remove } = toDos.actions;

  export default configureStore({ reducer: toDos.reducer });
  ```

### configureStore() - ë” ì¤„ì´ëŠ” ë°©ë²• (ë°”ë¡œ ìœ„ ì½”ë“œ ì°¸ê³ )

```jsx
import { configureStore } from "@reduxjs/toolkit";
const store = configureStore({ reducer: rootReducer });
```

- ì‚¬ìš©ë°©ë²• : `configureStore({ reducer : ë¦¬ë“€ì„œëª…})`

### useSelector()

- useSelectorì€ ìƒíƒœë³€í™”ê°€ ê°ì§€ë˜ë©´ useSelectorë¥¼ ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ëŠ” ë¦¬ë¦°ë”ë§ëœë‹¤.
- useSelectorì€ getStateì™€ subscibeì˜ ì—­í• ì„ í•˜ëŠ”ê²ƒì´ë‹¤.
- ì•„ë˜ ì½”ë“œì—ì„œëŠ” state.counter.countì˜ ê°’ì— ëŒ€í•´ì„œë§Œ ë°˜ì‘í•˜ì—¬ ë¦¬ëœë”ë§í•œë‹¤.

```jsx
const CounterContainer = () => {
  //ìƒíƒœì¡°íšŒ
  const count = useSelector((state: rootState) => state.counter.count);
  const dispatch = useDispatch();

  //ë””ìŠ¤íŒ¨ì¹˜ í•¨ìˆ˜
  const onIncrease = () => {
    dispatch(increase());
  };
  const onDecrease = () => {
    dispatch(decrease());
  };
  return (
    <div>
      <Counter count={count} onDecrease={onDecrease} onIncrease={onIncrease} />
    </div>
  );
};

export default CounterContainer;
```

### useDispatch()

- ì´ í•¨ìˆ˜ì˜ ì‚¬ìš©ë²•ì€ ë”°ë¡œ ì—†ìœ¼ë©° useDispatch()ë¥¼ ì‚¬ìš©í•˜ë©´ dispatchë¥¼ ë°˜í™˜í•œë‹¤.
- reducer
  ```jsx
  const counterSlice = createSlice({
    name: "aa",
    initialState,
    reducers: {
      increase: (state) => {
        state.count += 1;
      },
      decrease: (state) => {
        state.count -= 1;
      },
    },
  });
  ```
- dispatch ì‚¬ìš©ë²•

  ```jsx
  import { useDispatch, useSelector } from "react-redux";
  import Counter from "../components/Counter";
  import { rootState } from "../redux/modules";
  import { decrease, increase } from "../redux/modules/counter";

  const CounterContainer = () => {
    // ìƒíƒœì¡°íšŒ
    const count = useSelector((state: rootState) => state.counter.count);
    const dispatch = useDispatch();

    // ë””ìŠ¤íŒ¨ì¹˜ í•¨ìˆ˜
    const onIncrease = () => {
      dispatch(increase());
    };
    const onDecrease = () => {
      dispatch(decrease());
    };
    return (
      <div>
        <Counter count={count} onDecrease={onDecrease} onIncrease={onIncrease} />
      </div>
    );
  };

  export default CounterContainer;
  ```

### combineReducers()

ë¦¬ë“€ì„œë¥¼ í•©ì¹˜ëŠ” í•¨ìˆ˜. í•œê°œì˜ í”„ë¡œì íŠ¸ëŠ” í•˜ë‚˜ì˜ storeë¥¼ ê°€ì§€ê³  ìˆì–´ì•¼ í•˜ë¯€ë¡œ reducerë¥¼ í•˜ë‚˜ë¡œ í•©ì³ì•¼í•œë‹¤.

`const rootReducer = combineReducers({ counter, todos });`
