<!DOCTYPE html>
<html>
<head>
    <title> ReactJS |  Jiwon's Blog</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="author" content="Jiwon Ryu">
    <meta name="description" content="A blog and a portfolio">
    <link rel="shortcut icon" type="image/png" href="/image/개발자이모티콘2.png">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Crimson+Text">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.4.2/css/bulma.min.css">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@600&display=swap" rel="stylesheet">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-95PRM2RDE8"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-95PRM2RDE8');
    </script>
</head>

<body>
    <nav class="nav">
    <div class="container">
        <div class="nav-left">
            <a id="home" class="nav-item" href="/">
                <span class="icon">
                    <i class="fa fa-home"></i>
                </span>
            </a>
            
            <a id="project" class="nav-item " href="/project/">
                <span>Project</span>
            </a>
            
            <a id="category" class="nav-item " href="/category/">
                <span>Blog</span>
            </a>
            
        </div>

        <div class="nav-center">
            
        </div>

        <!--
        <span class="nav-toggle">
        <span></span>
        <span></span>
        <span></span>
        </span>

        
        <div class="nav-right nav-menu">
            
        </div>
        -->

</nav>
    <div class='content'>
        <section class="section">
  <div class="container">
    <div class="heading has-text-centered">
      <p class="title is-2">ReactJS</p>
      <p class="subtitle is-6">
        <span class="tag is-white"><small>February 19, 2024</small></span>
      </p>
    </div>
    <br />
    <div class="columns is-multiline">
      <div class="column is-half is-offset-one-quarter">
        <div class="content"><p>노마드코더, 리엑트 공식문서 등을 참고하여 공부한 후 정리한 포스터 입니다.</p>

<p>react 참고자료 : <a href="https://github.com/koreamarin/01.Study/tree/main/06.nomad_coding/06.react-masterclass">https://github.com/koreamarin/01.Study/tree/main/06.nomad_coding/06.react-masterclass</a><br />
redux 참고자료 : <a href="https://github.com/koreamarin/01.Study/tree/main/06.nomad_coding/07.react-redux">https://github.com/koreamarin/01.Study/tree/main/06.nomad_coding/07.react-redux</a><br />
redux-toolkit 참고자료 : <a href="https://github.com/koreamarin/01.Study/tree/main/06.nomad_coding/08.react-redux-toolkit">https://github.com/koreamarin/01.Study/tree/main/06.nomad_coding/08.react-redux-toolkit</a></p>

<h1 id="명령어-모음">명령어 모음</h1>

<p><code class="language-plaintext highlighter-rouge">npx create-react-app 프로젝트명</code> : 현재 디렉토리에 프로젝트명으로된 리엑트 프로젝트 생성</p>

<p><code class="language-plaintext highlighter-rouge">npx install react react-dom</code> : 현재 디렉토리에 react라이브러리와 react-dom 라이브러리 설치 또는 <code class="language-plaintext highlighter-rouge">npx install</code> 입</p>

<p><code class="language-plaintext highlighter-rouge">npx create-react-app 프로젝트명 --template typescript</code> : 현재 디렉토리에 프로젝트명으로된 리엑트 프로젝트를 타입스크립트를 추가하여 생성</p>

<p><code class="language-plaintext highlighter-rouge">npm install --save typescript @types/node @types/react @types/react-dom @types/jest</code> : 기존의 CRA환경에 TS 추가하기</p>

<p><code class="language-plaintext highlighter-rouge">npm start</code> : 리엑트 프로젝트 시작. 테스트 환경 빌드</p>

<p><code class="language-plaintext highlighter-rouge">npm install react-router-dom</code> : router 설치</p>

<p><code class="language-plaintext highlighter-rouge">npm run build</code> : 빌드하기. 프로젝트를 하나의 static한 파일로 빌드시켜 build폴더를 생성하여 그 안에 빌드 결과 파일을 넣어놓음.</p>

<p><code class="language-plaintext highlighter-rouge">npx serve -s build</code> : 빌드한 파일 서비스 시작, build는 폴더명을 의미. -s는 사용자가 어떠한 경로로 들어오든 간에 index.html로 들어가게끔 해주는 옵션</p>

<hr />

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code>컴포넌트를 만들때 컴포넌트명의 맨 앞글자는 반드시 대문자이어야 한다.  
컴포넌트의 속성은 Prop이라고 부른다. 컴포넌트에 argument를 넣어주는 것이다.  
동적으로 만들어주는 태그들은 각자 key라는 속성을 가지고 있어야 하며, key들은 고유(유니크)해야한다.  
Prop에는 text를 넣을수도 있고, 변수를 넣을수도 있으며, 함수를 넣을 수도 있다.  
따라서 컴포넌트 내부의 이벤트가 어떤 기능을 할 것인지를 Prop로 부여해줄 수 있는 것이다.
</code></pre></div></div>

<h1 id="usestate"><strong>UseState</strong></h1>

<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code>State를 사용하여야 변수값이 변동될때마다 렌더링이 다시 된다. State를 사용하지 않은 변수의 변수값을 바꾸면 내부적으로만 변수값이 바뀌어있고,  
바뀐 값이 렌더링되어 나타나지는 않는다.

State를 사용하기 위해서는 <span class="sb">`import {useState} from 'react';`</span>를 사용하여 선언하여야 한다.

useState로 선언한 변수에는 0번 인덱스에는 변수값이, 1번 인덱스에는 해당 변수를 바꾸기 위한 함수가 들어있다.  
아래는 그 예시이고, 예시를 단축하여 사용한다.
</code></pre></div></div>

<p>const _mode = useState(“ㅎㅇ”)
const mode = _mode[0];
const setMode = _mode[1];</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
이 코드를

</code></pre></div></div>

<p>const [mode, setMode] = useState(“ㅎㅇ”)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
로 바꿀 수 있다.
</code></pre></div></div>

<hr />

<h1 id="useeffect">UseEffect</h1>

<ul>
  <li>처음 렌더링될 때 한번만 실행되고 state의 변화가 있더라도 더 이상 실행하고 싶지 않을 때 사용하는 훅</li>
  <li>첫번쨰 인자에는 실행하려는 함수를 입력한다.</li>
  <li>두번째 인자에는 예외처리할 state명을 입력한다. 두번째 인자에 포함된 state가 바뀔때에는 Effet의 효력이 발생하지 않아 첫번째 인자에 있는 함수가 함께 실행된다.</li>
  <li>
    <p>useEffect에는 컴포넌트가 렌더링시에만 실행된다는 특징 이외에도 하나의 기능이 더 있다. 바로 컴포넌트가 사라질 때에도 실행 시킬 수 있는 기능이 있다. useEffect의 첫번째 인자에 있는 함수가 return (함수)를 가질 때, return 뒤에 있는 함수가 실행된다.
정리하자면 최초 렌더링시에는 arg1 함수가 실행되며, 렌더링 삭제시에는 arg1함수의 return에 있는 함수가 실행된다.
아래는 두가지의 예시이다.
<code class="language-plaintext highlighter-rouge">jsx
function Hello() {
  useEffect(() =&gt; {
    console.log("hi :)");   // 컴포넌트 생성시에 실행
    return () =&gt; console.log("bye :(")   // 컴포넌트 삭제시에 실행
  }, []);
  return &lt;h1&gt;Hello&gt;&lt;/h1&gt;
}
</code></p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>                        ```jsx
                        function Hello() {
                        	function byFn() {
                        		console.log("bye :(");
                        	}
                        	function hiFn() {
                        		console.log("created :)");
                        		return byFn
                        	}
                        	useEffect(hiFn, []);
                        	return &lt;h1&gt;Hello&gt;&lt;/h1&gt;
                        }
                        ```
</code></pre></div>    </div>
  </li>
</ul>

<hr />

<h1 id="애니메이션-적용-방식">애니메이션 적용 방식</h1>

<ul>
  <li>keyframs라는 스타일 컴포넌트 라이브러리의 함수를 이용하여 애니매이션을 쉽게 적용 가능하다.</li>
  <li>
    <p>아래와 같이 생성하여 적용한다. from.. to로도 적용할 수 있고 %로도 적용가능하다.</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">styled</span><span class="p">,</span> <span class="p">{</span> <span class="nx">keyframes</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">styled-components</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">Wrapper</span> <span class="o">=</span> <span class="nx">styled</span><span class="p">.</span><span class="nx">div</span><span class="s2">`
  display: flex;
`</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">rotationAnimation1</span> <span class="o">=</span> <span class="nx">keyframes</span><span class="s2">`
  from {
    transform:rotate(0deg);
    border-radius:0px;
  }
  to {
    transform:rotate(360deg);
    border-radius:100px;
  }
`</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">Box1</span> <span class="o">=</span> <span class="nx">styled</span><span class="p">.</span><span class="nx">div</span><span class="s2">`
  height: 200px;
  width: 200px;
  background-color: tomato;
  animation: </span><span class="p">${</span><span class="nx">rotationAnimation1</span><span class="p">}</span><span class="s2"> 2s linear infinite;
`</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">rotationAnimation2</span> <span class="o">=</span> <span class="nx">keyframes</span><span class="s2">`
  0% {
    transform:rotate(0deg);
    border-radius:0px;
  }
  50% {
    transform:rotate(360deg);
    border-radius:100px;
  }
  100% {
    transform:rotate(720deg);
    border-radius:0px;
  }
`</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">Box2</span> <span class="o">=</span> <span class="nx">styled</span><span class="p">.</span><span class="nx">div</span><span class="s2">`
  height: 200px;
  width: 200px;
  background-color: tomato;
  animation: </span><span class="p">${</span><span class="nx">rotationAnimation2</span><span class="p">}</span><span class="s2"> 2s linear infinite;
`</span><span class="p">;</span>

<span class="kd">function</span> <span class="nf">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="p">&lt;</span><span class="nc">Wrapper</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nc">Box1</span> <span class="p">/&gt;</span>
      <span class="p">&lt;</span><span class="nc">Box2</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nc">Wrapper</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">App</span><span class="p">;</span>
</code></pre></div>    </div>

    <p><img src="/image/REACTJS1.png" alt="image" /></p>

    <ul>
      <li>막 돌아가는 이미지이다.</li>
    </ul>
  </li>
</ul>

<hr />

<h1 id="css-적용방법4번-중요">CSS 적용방법(4번 중요)</h1>

<h3 id="1-inline방식-잘-안씀">1. inline방식 (잘 안씀)</h3>

<h3 id="2-stylecss-만들어서-적용하는-방식-쓰긴함">2. style.css 만들어서 적용하는 방식 (쓰긴함)</h3>

<h3 id="3-style-module-방식-많이-쓰는편">3. style module 방식 (많이 쓰는편)</h3>

<ul>
  <li>Button.module.css ⇒ 파일명에 .module.css를 붙인다. 꼭 컴포넌트 이름을 가진 파일명일필요는 없다.
    <div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.btn</span> <span class="p">{</span>
  <span class="nl">color</span><span class="p">:</span> <span class="no">white</span><span class="p">;</span>
  <span class="nl">background-color</span><span class="p">:</span> <span class="no">tomato</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Button.js</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">styles</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./Button.module.css</span><span class="dl">"</span><span class="p">;</span>

<span class="k">export</span> <span class="kd">function</span> <span class="nf">Button</span><span class="p">({</span> <span class="nx">text</span> <span class="p">})</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">&lt;</span><span class="nt">button</span> <span class="na">className</span><span class="p">=</span><span class="si">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">btn</span><span class="si">}</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">text</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;;</span>
<span class="p">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="4-styled-components-방식-대세-방식-중요">4. styled components 방식 (대세 방식, 중요)</h3>

<ul>
  <li>가장 좋다는 방식이다.</li>
  <li><code class="language-plaintext highlighter-rouge">npm i styled-components</code> 입력하여 설치한다.
타입스크립트는 <code class="language-plaintext highlighter-rouge">npm i --save-dev @types/styled-components</code> 이것도 같이 설치한다.
<code class="language-plaintext highlighter-rouge">.d.ts</code>파일을 다운받는 것이다.</li>
  <li>변수명 맨 앞글자는 대문자이다.</li>
  <li>변수값을 작성할 때 <code class="language-plaintext highlighter-rouge">styled.태그명</code> 으로 시작하며 백틱(`) 사이에 스타일 코드가 들어간다.</li>
  <li>prop을 사용할 수 있어서 동적인 스타일 변경이 가능하다.</li>
  <li>스타일 변수는 재사용 가능하여 다른 스타일 변수안에서 다시 쓰일 수 있다.</li>
  <li>as 속성을 추가하여 스타일된 태그가 아닌 다른 태그로 바꿀 수 있다.</li>
  <li>컴포넌트에 태그의 고유 속성들을 사용 가능하다.</li>
  <li>컴포넌트에 속성을 부여할 때 styled component에서도 속성을 부여할 수 있다
<code class="language-plaintext highlighter-rouge">const Input = styled.input.attrs({required: true, minLength: 10})</code> 방식과 같이 뒤에 속성을 붙여넣으면 된다.</li>
  <li>
    <p>styled component 내부에 있는 태그도 style 적용이 가능하다. 아래는 내부 span에 style을 적용한 것. <strong>target방식 이라고 한다</strong></p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">Box3</span> <span class="o">=</span> <span class="nx">styled</span><span class="p">.</span><span class="nx">div</span><span class="s2">`
  height: 200px;
  width: 200px;
  span {
     {
      /* 이부분이 target 방식*/
    }
    font-size: 20px;
    &amp;:hover {
      /* &amp;는 span 자기 자신을 뜻하는 것이다. */
      font-size: 40px; /* span:hover target을 한번 더 만드는 것을 짧게쓰려고 만든거 */
    }
  }
`</span><span class="p">;</span>

<span class="kd">function</span> <span class="nf">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">aksdhfalskjdhfad</span><span class="p">;</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="p">&lt;</span><span class="nc">Box3</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span>😊<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nc">Box3</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>만약 다른 styled component를 target방식으로 적용하고 싶으면 component이름을 ${}에 쓰면 된다</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">Emoji</span> <span class="o">=</span> <span class="nx">styled</span><span class="p">.</span><span class="nx">span</span><span class="s2">`
  font-size: 36px;
`</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">Box</span> <span class="o">=</span> <span class="nx">styled</span><span class="p">.</span><span class="nx">div</span><span class="s2">`
  height: 200px;
  width: 200px;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: tomato;
  align-items: center;
  animation: </span><span class="p">${</span><span class="nx">rotationAnimation</span><span class="p">}</span><span class="s2"> 2s linear infinite;
  </span><span class="p">${</span><span class="nx">Emoji</span><span class="p">}</span><span class="s2"> {
    /* styled component를 Box styled component안에 style 적용한 모습 */
    &amp;:hover {
      font-size: 98px;
    }
  }
`</span><span class="p">;</span>
</code></pre></div>    </div>

    <ul>
      <li>
        <p>또 다른 예시</p>

        <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">Emoji</span> <span class="o">=</span> <span class="nx">styled</span><span class="p">.</span><span class="nx">span</span><span class="s2">`
  font-size: 36px;
`</span>

<span class="kd">const</span> <span class="nx">Box</span> <span class="o">=</span> <span class="nx">styled</span><span class="p">.</span><span class="nx">div</span><span class="s2">`
  height:200px;
  width:200px;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color:tomato;
  align-items : center;
  animation: </span><span class="p">${</span><span class="nx">rotationAnimation</span><span class="p">}</span><span class="s2"> 2s linear infinite;
  </span><span class="p">${</span><span class="nx">Emoji</span><span class="p">}</span><span class="s2"> {    {/* 이러면 as를 사용하여 다른 태그로 */}
		&amp;:hover {   {/* 바꿔도 box 안에서 Emoji는 스타일이 그대로이다. /*}
	    font-size: 98px;
	  }
  }


`</span><span class="p">;</span>

<span class="kd">function</span> <span class="nf">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="p">&lt;</span><span class="nc">Wrapper</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nc">Box</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nc">Emoji</span> <span class="na">as</span><span class="p">=</span><span class="s">"p"</span><span class="p">&gt;</span>😊<span class="p">&lt;/</span><span class="nc">Emoji</span><span class="p">&gt;</span>
				<span class="si">{</span><span class="cm">/* 이러면 as를 사용하여 다른 태그로 */</span><span class="si">}</span>
				<span class="si">{</span><span class="cm">/* 바꿔도 box 안에서 Emoji는 스타일이 그대로이다. /*}
      &lt;/Box&gt;
    &lt;/Wrapper&gt;
  );
}
</span></code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>
    <p>코드 예시</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">styled</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">styled-components</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">Father</span> <span class="o">=</span> <span class="nx">styled</span><span class="p">.</span><span class="nx">div</span><span class="s2">`
  display: flex;
`</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">Box</span> <span class="o">=</span> <span class="nx">styled</span><span class="p">.</span><span class="nx">div</span><span class="s2">`
  background-color: </span><span class="p">${(</span><span class="nx">props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">props</span><span class="p">.</span><span class="nx">bgColor</span><span class="p">}</span><span class="s2">;
  width: 100px;
  height: 100px;
`</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">Circle</span> <span class="o">=</span> <span class="nx">styled</span><span class="p">.</span><span class="nx">div</span><span class="s2">`
  background-color: </span><span class="p">${(</span><span class="nx">props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">props</span><span class="p">.</span><span class="nx">bgColor</span><span class="p">}</span><span class="s2">;
  width: 100px;
  height: 100px;
  border-radius: 50px;
`</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">Btn</span> <span class="o">=</span> <span class="nx">styled</span><span class="p">.</span><span class="nx">button</span><span class="s2">`
  color: white;
  background-color: tomato;
  border: 0;
  border-radius: 15px;
`</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">Input</span> <span class="o">=</span> <span class="nx">styled</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nf">attrs</span><span class="p">({</span> <span class="na">required</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="na">minLength</span><span class="p">:</span> <span class="mi">10</span> <span class="p">})</span><span class="s2">`
  background-color: tomato;
`</span><span class="p">;</span>

<span class="kd">function</span> <span class="nf">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nc">Father</span> <span class="na">as</span><span class="p">=</span><span class="s">"header"</span><span class="p">&gt;</span>
        <span class="si">{</span><span class="dl">"</span><span class="s2"> </span><span class="dl">"</span><span class="si">}</span>
        <span class="si">{</span><span class="cm">/* as 속성을 써서 다른태그로 바꿈 */</span><span class="si">}</span>
        <span class="p">&lt;</span><span class="nc">Box</span> <span class="na">bgColor</span><span class="p">=</span><span class="s">"teal"</span> <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nc">Circle</span> <span class="na">bgColor</span><span class="p">=</span><span class="s">"tomato"</span> <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nc">Btn</span><span class="p">&gt;</span>Log in<span class="p">&lt;/</span><span class="nc">Btn</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nc">Btn</span> <span class="na">as</span><span class="p">=</span><span class="s">"a"</span> <span class="na">href</span><span class="p">=</span><span class="s">"/"</span><span class="p">&gt;</span>
          Log in
        <span class="p">&lt;/</span><span class="nc">Btn</span><span class="p">&gt;</span> <span class="si">{</span><span class="cm">/* as 속성을 써서 다른태그로 바꿈 */</span><span class="si">}</span>
        <span class="p">&lt;</span><span class="nc">Input</span> <span class="p">/&gt;</span> <span class="si">{</span><span class="cm">/* style component에 의해 속성이 부여되어있는 컴포넌트 */</span><span class="si">}</span>
        <span class="p">&lt;</span><span class="nc">Input</span> <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nc">Input</span> <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nc">Input</span> <span class="p">/&gt;</span>
      <span class="p">&lt;/</span><span class="nc">Father</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">App</span><span class="p">;</span>
</code></pre></div>    </div>
  </li>
</ul>

<hr />

<h1 id="react-typescript-구문들">React +Typescript 구문들</h1>

<h2 id="props-사용방법-props-type-지정방법">Props 사용방법 (Props Type 지정방법)</h2>

<ul>
  <li>모든 컴포넌트, styled 컴포넌트에 어떤 타입의 arguments가 주어져야하는지 interface로 타입을 지정할 수 있다.</li>
  <li>인터페이스에 argument의 타입을 지정해주면 그 입력값은 필수로 입력해야한다.
하지만 argument명 뒤에 물음표(?)를 붙이면 그 argument를 줄지 안줄지는 선택사항이 된다</li>
  <li>물음표를 주면 argument가 선택사항이 되기에 default argument value를 설정해줄 필요가 있다.
2가지 방법이 있는데</li>
</ul>

<ol>
  <li>컨테이너 함수의 argument 선언부에서 default를 선언하는 방법이 있고,</li>
  <li>
    <p>컨테이너 함수의 argument를 사용할 때 [Null 병합 연산자 (Nullish coalescing operator)]를 사용하여 argument가 null일 때 default를 부여해주는 방법이 있다.</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">styled</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">styled-components</span><span class="dl">"</span><span class="p">;</span>

<span class="kr">interface</span> <span class="nx">ContainerProps</span> <span class="p">{</span>
  <span class="nl">bgColor</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">borderColor</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span> <span class="c1">// ContainerProps에는 borderColor가 필수 arg이다.</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">Container</span> <span class="o">=</span>
  <span class="nx">styled</span><span class="p">.</span><span class="nx">div</span> <span class="o">&lt;</span>
  <span class="nx">ContainerProps</span> <span class="o">&gt;</span>
  <span class="s2">`
    width:200px;
    height:200px;
    background-color:</span><span class="p">${(</span><span class="nx">props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">props</span><span class="p">.</span><span class="nx">bgColor</span><span class="p">}</span><span class="s2">;
    border-radius:50%;
    border:1px solid </span><span class="p">${(</span><span class="nx">props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">props</span><span class="p">.</span><span class="nx">borderColor</span><span class="p">}</span><span class="s2">;
`</span><span class="p">;</span>

<span class="kr">interface</span> <span class="nx">CircleProps</span> <span class="p">{</span>
  <span class="nl">bgColor</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span> <span class="c1">// 필수 arg</span>
  <span class="nx">borderColor</span><span class="p">?:</span> <span class="nx">string</span><span class="p">;</span> <span class="c1">// 선택 arg</span>
  <span class="nx">text</span><span class="p">?:</span> <span class="nx">string</span><span class="p">;</span> <span class="c1">// 선택 arg</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nf">Circle</span><span class="p">({</span> <span class="nx">bgColor</span><span class="p">,</span> <span class="nx">borderColor</span><span class="p">,</span> <span class="nx">text</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">default text</span><span class="dl">"</span> <span class="p">}:</span> <span class="nx">CircleProps</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// arg를 지정하는 부분에서 text의 default 값을 지정함.</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="p">&lt;</span><span class="nc">Container</span> <span class="na">bgColor</span><span class="p">=</span><span class="si">{</span><span class="nx">bgColor</span><span class="si">}</span> <span class="na">borderColor</span><span class="p">=</span><span class="si">{</span><span class="nx">borderColor</span> <span class="o">??</span> <span class="dl">"</span><span class="s2">yellow</span><span class="dl">"</span><span class="si">}</span><span class="p">&gt;</span>
      <span class="si">{</span><span class="dl">"</span><span class="s2"> </span><span class="dl">"</span><span class="si">}</span>
      <span class="si">{</span><span class="cm">/* borderColor가 없으면 default 값으로 yellow를 지정함. */</span><span class="si">}</span>
      <span class="si">{</span><span class="nx">text</span><span class="si">}</span>
    <span class="p">&lt;/</span><span class="nc">Container</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">Circle</span><span class="p">;</span>

<span class="p">&lt;</span><span class="nc">Circle</span> <span class="na">bgColor</span><span class="p">=</span><span class="s">"red"</span> <span class="na">borderColor</span><span class="p">=</span><span class="s">"blue"</span> <span class="na">text</span><span class="p">=</span><span class="s">"asdf"</span> <span class="p">/&gt;;</span>
</code></pre></div>    </div>
  </li>
</ol>

<h2 id="state-사용방법-usestate-type-지정방법">state 사용방법 (useState Type 지정방법)</h2>

<ul>
  <li>typescript를 쓴 State는 꼭 타입을 지정해주지 않아도 된다.<br />
단 default값을 넣어주는것을 추천</li>
  <li><code class="language-plaintext highlighter-rouge">const [value, setValue] = useState(1);</code>와 같은 케이스의 경우 useState()안에 있는 value값으로 변수 value와 setValue의 타입을 자동 추정한다.</li>
  <li><code class="language-plaintext highlighter-rouge">const [value, setValue] = useState&lt;number&gt;();</code>와 같은 방식으로 제네릭을 사용하여 타입을 지정해 줄수도 있다.</li>
  <li>한개의 state에서 여러가지 타입을 사용할 때에는
<code class="language-plaintext highlighter-rouge">const [value, setValue] = useState&lt;number|string&gt;();</code>와 같은 문법을 사용한다.</li>
</ul>

<h2 id="event-사용방법-event-type-지정방법">event 사용방법 (event Type 지정방법)</h2>

<ul>
  <li>
    <p>Typesciprt + React에서 event를 사용할 때에는 보통 event안에 함수를 쓰고, 그 함수의 argument에 event인자가 들어간다. 이 때 함수의 event 인자 뒤에 event의 타입을 지정해주어야 하는데 좀 특이하다. 아래 코드를 따라하면 된다.</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import { useState } from "react";

function App() {
  const [value, setValue] = useState("");
	// currentTarget은  react에서 사용하는 문법으로 그냥 target과 같다.
  const onChange = (event: React.FormEvent&lt;HTMLInputElement&gt;) =&gt; {
    const {
      currentTarget: { value },
    } = event;
    setValue(value);
  };

  const onSubmit = (event: React.FormEvent&lt;HTMLFormElement&gt;) =&gt; {
    event.preventDefault();
    console.log("hello", value);
  };

  return (
    &lt;div&gt;
      &lt;form onSubmit={onSubmit}&gt;
        &lt;input value={value} onChange={onChange} type="text" placeholder="username" /&gt;
        &lt;button&gt;Log in&lt;/button&gt;
      &lt;/form&gt;
    &lt;/div&gt;
  );
}

export default App;
</code></pre></div>    </div>
  </li>
</ul>

<hr />

<h1 id="router-사용방법-6버전-이상부터는-router사용방법이-많이-바뀜">Router 사용방법 (6버전 이상부터는 router사용방법이 많이 바뀜)</h1>

<ul>
  <li>
    <p>라우트 API와 컴포넌트들</p>

    <p><img src="/image/REACTJS2.png" alt="image" /></p>
  </li>
</ul>

<h2 id="browserrouter-라우팅">BrowserRouter (라우팅)</h2>

<ul>
  <li>특징 : switch 대신 route 컴포넌트를 사용. path와 내부 컴포넌트도 route의 속성으로 들어감.</li>
  <li>
    <p>Router.tsx</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">BrowserRouter</span><span class="p">,</span> <span class="nx">Routes</span><span class="p">,</span> <span class="nx">Route</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react-router-dom</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Header</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./component/Header</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Home</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./pages/Home</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">About</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./pages/About</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nf">Router</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="p">&lt;</span><span class="nc">BrowserRouter</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nc">Header</span> <span class="p">/&gt;</span>
      <span class="p">&lt;</span><span class="nc">Routes</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nc">Route</span> <span class="na">path</span><span class="p">=</span><span class="s">"/"</span> <span class="na">element</span><span class="p">=</span><span class="si">{</span><span class="p">&lt;</span><span class="nc">Home</span> <span class="p">/&gt;</span><span class="si">}</span> <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nc">Route</span> <span class="na">path</span><span class="p">=</span><span class="s">"/about"</span> <span class="na">element</span><span class="p">=</span><span class="si">{</span><span class="p">&lt;</span><span class="nc">About</span> <span class="p">/&gt;</span><span class="si">}</span> <span class="p">/&gt;</span>
      <span class="p">&lt;/</span><span class="nc">Routes</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nc">BrowserRouter</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">Router</span><span class="p">;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>App.tsx</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Router</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./Router</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nf">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nc">Router</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">App</span><span class="p">;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Header.tsx</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Link</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react-router-dom</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nf">Header</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">header</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nc">Link</span> <span class="na">to</span><span class="p">=</span><span class="si">{</span><span class="dl">"</span><span class="s2">/</span><span class="dl">"</span><span class="si">}</span><span class="p">&gt;</span>Home<span class="p">&lt;/</span><span class="nc">Link</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nc">Link</span> <span class="na">to</span><span class="p">=</span><span class="si">{</span><span class="dl">"</span><span class="s2">/about</span><span class="dl">"</span><span class="si">}</span><span class="p">&gt;</span>About<span class="p">&lt;/</span><span class="nc">Link</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
<span class="k">export</span> <span class="k">default</span> <span class="nx">Header</span><span class="p">;</span>
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="createbrowserrouter-라우팅권장">CreateBrowserRouter (라우팅,권장)</h2>

<ul>
  <li>CreateBrowserRouter에서는 Router.tsx파일에서 Router를 태그로 관리하지 않고, path와 element 값을 가진 Router 변수로 관리한다.</li>
  <li>
    <p>Router.tsx</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Routes</span><span class="p">,</span> <span class="nx">Route</span><span class="p">,</span> <span class="nx">createBrowserRouter</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react-router-dom</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Header</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./component/Header</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Home</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./pages/Home</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">About</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./pages/About</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Root</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./Root</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">router</span> <span class="o">=</span> <span class="nf">createBrowserRouter</span><span class="p">([</span>
  <span class="p">{</span>
    <span class="na">path</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/</span><span class="dl">"</span><span class="p">,</span> <span class="c1">// 루트 경로</span>
    <span class="na">element</span><span class="p">:</span> <span class="p">&lt;</span><span class="nc">Root</span> <span class="p">/&gt;,</span> <span class="c1">// 루트 컴포넌트</span>
    <span class="na">children</span><span class="p">:</span> <span class="p">[</span>
      <span class="c1">// 자식 라우터</span>
      <span class="p">{</span>
        <span class="na">path</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span> <span class="c1">// 자식 라우터의 경로</span>
        <span class="na">element</span><span class="p">:</span> <span class="p">&lt;</span><span class="nc">Home</span> <span class="p">/&gt;,</span> <span class="c1">// 자식 라우터의 컴포넌트</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="na">path</span><span class="p">:</span> <span class="dl">"</span><span class="s2">about</span><span class="dl">"</span><span class="p">,</span> <span class="c1">// 자식 라우터의 경로</span>
        <span class="na">element</span><span class="p">:</span> <span class="p">&lt;</span><span class="nc">About</span> <span class="p">/&gt;,</span> <span class="c1">// 자식 라우터의 컴포넌트</span>
      <span class="p">},</span>
    <span class="p">],</span>
  <span class="p">},</span>
<span class="p">]);</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">router</span><span class="p">;</span>
</code></pre></div>    </div>
  </li>
  <li>router에서 (/) path의 자식 path들을 생성할 수 있는데, /about이라고 입력하면
    <Root />
    <p>컴포넌트 내부의 <Outlet></Outlet>컴포넌트가 있는 곳이 자식 컴포넌트 <About></About>이 렌더링 될 자리이다.</p>
  </li>
  <li>
    <p>Root.tsx 127.0.0.1/about</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Outlet</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react-router-dom</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Header</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./component/Header</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nf">Root</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nc">Header</span> <span class="p">/&gt;</span>
      <span class="p">&lt;</span><span class="nc">Outlet</span> <span class="p">/&gt;</span> <span class="si">{</span><span class="cm">/* 자식 라우터를 렌더링하는 역할을 합니다 */</span><span class="si">}</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">Root</span><span class="p">;</span>
</code></pre></div>    </div>
  </li>
  <li>index.tsx에서는 이러한 라우터 자리를 &lt;RouterProvider router={} /&gt; 컴포넌트를 통해서 제공하고 있다.</li>
  <li>
    <p>index.tsx</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">ReactDOM</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react-dom/client</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">router</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./Router</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">RouterProvider</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react-router-dom</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">root</span> <span class="o">=</span> <span class="nx">ReactDOM</span><span class="p">.</span><span class="nf">createRoot</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">root</span><span class="dl">"</span><span class="p">)</span> <span class="k">as</span> <span class="nx">HTMLElement</span><span class="p">);</span>
<span class="nx">root</span><span class="p">.</span><span class="nf">render</span><span class="p">(</span>
  <span class="p">&lt;</span><span class="nc">React</span><span class="p">.</span><span class="nc">StrictMode</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nc">RouterProvider</span> <span class="na">router</span><span class="p">=</span><span class="si">{</span><span class="nx">router</span><span class="si">}</span> <span class="p">/&gt;</span>
    <span class="si">{</span><span class="cm">/* RouterProvider를 통해 라우터를 제공합니다. router는 src/Router.tsx에서 만든 라우터입니다. */</span><span class="si">}</span>
  <span class="p">&lt;/</span><span class="nc">React</span><span class="p">.</span><span class="nc">StrictMode</span><span class="p">&gt;</span>
<span class="p">);</span>
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="errorelement-라우팅실패시">ErrorElement (라우팅실패시)</h2>

<ul>
  <li>컴포넌트에 에러 발생하거나 컴포넌트 위치를 찾지 못할 떄 쓰는 에러 엘러먼트</li>
  <li>router에서 에러엘러먼트를 지정해주며, 해당 경로가 오류가 있거나 컴포넌트에 이상이 있을 시 element렌더링을 하지 않고, errorElement를 렌더링 함.</li>
  <li>path에 “:/userId”와 같은 것도 사용이 가능한데, 해당 path와 연결된 component에서 userId를 useParams()를 통해 사용가능하여 url에 접근가능하게 됨.</li>
  <li>
    <p>Router.tsx</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Routes</span><span class="p">,</span> <span class="nx">Route</span><span class="p">,</span> <span class="nx">createBrowserRouter</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react-router-dom</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">About</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./pages/About</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Root</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./Root</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">NotFound</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./pages/NotFound</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Home</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./pages/Home</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">ErrorComponents</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./component/ErrorComponents</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">User</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./pages/users/User</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">router</span> <span class="o">=</span> <span class="nf">createBrowserRouter</span><span class="p">([</span>
  <span class="p">{</span>
    <span class="na">path</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/</span><span class="dl">"</span><span class="p">,</span> <span class="c1">// 루트 경로</span>
    <span class="na">element</span><span class="p">:</span> <span class="p">&lt;</span><span class="nc">Root</span> <span class="p">/&gt;,</span> <span class="c1">// 루트 컴포넌트</span>
    <span class="na">children</span><span class="p">:</span> <span class="p">[</span>
      <span class="c1">// 자식 라우터</span>
      <span class="p">{</span>
        <span class="na">path</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span> <span class="c1">// 자식 라우터의 경로</span>
        <span class="na">element</span><span class="p">:</span> <span class="p">&lt;</span><span class="nc">Home</span> <span class="p">/&gt;,</span> <span class="c1">// 자식 라우터의 컴포넌트</span>
        <span class="na">errorElement</span><span class="p">:</span> <span class="p">&lt;</span><span class="nc">ErrorComponents</span> <span class="p">/&gt;,</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="na">path</span><span class="p">:</span> <span class="dl">"</span><span class="s2">about</span><span class="dl">"</span><span class="p">,</span> <span class="c1">// 자식 라우터의 경로</span>
        <span class="na">element</span><span class="p">:</span> <span class="p">&lt;</span><span class="nc">About</span> <span class="p">/&gt;,</span> <span class="c1">// 자식 라우터의 컴포넌트</span>
      <span class="p">},</span>
    <span class="p">],</span>
    <span class="na">errorElement</span><span class="p">:</span> <span class="p">&lt;</span><span class="nc">NotFound</span> <span class="p">/&gt;,</span>
  <span class="p">},</span>
<span class="p">]);</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">router</span><span class="p">;</span>
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="usenavigate-라우팅-함수">UseNavigate (라우팅 함수)</h2>

<ul>
  <li>페이지이동이란 개념에서 <link />와 비슷하지만 useNavigate는 함수이다.
따라서 다른 로직에서 쓰일 수 있다.</li>
  <li>아래 예시의 Link와 navigate는 둘 다 페이지 이동에 쓰이지만 navigate는 로직안에서 구현되었기에 여러 방면으로 사용이 가능한 것이다.</li>
  <li>
    <p>예시</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Link</span><span class="p">,</span> <span class="nx">useNavigate</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react-router-dom</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nf">Header</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">navigate</span> <span class="o">=</span> <span class="nf">useNavigate</span><span class="p">();</span>
  <span class="kd">const</span> <span class="nx">onAboutClick</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if </span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nf">confirm</span><span class="p">(</span><span class="dl">"</span><span class="s2">About 페이지로 이동하시겠습니까?</span><span class="dl">"</span><span class="p">))</span> <span class="nf">navigate</span><span class="p">(</span><span class="dl">"</span><span class="s2">/about</span><span class="dl">"</span><span class="p">);</span>
  <span class="p">};</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">header</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nc">Link</span> <span class="na">to</span><span class="p">=</span><span class="si">{</span><span class="dl">"</span><span class="s2">/</span><span class="dl">"</span><span class="si">}</span><span class="p">&gt;</span>Home<span class="p">&lt;/</span><span class="nc">Link</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nt">button</span> <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="nx">onAboutClick</span><span class="si">}</span><span class="p">&gt;</span>About<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
<span class="k">export</span> <span class="k">default</span> <span class="nx">Header</span><span class="p">;</span>
</code></pre></div>    </div>
  </li>
  <li><code class="language-plaintext highlighter-rouge">navigate(-1)</code>` 은 뒤로가기 버튼을 누르는것과 같다.</li>
</ul>

<h2 id="useparams-url-접근하여-param-가져오기">UseParams (url 접근하여 param 가져오기)</h2>

<ul>
  <li>path에 “:/userId”와 같은 url Parameter도 사용이 가능한데, 해당 path와 연결된 component에서 userId를 useParams()를 통해 사용가능하여 url에 접근가능하게 됨.</li>
  <li>
    <p>Router.tsx</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Routes</span><span class="p">,</span> <span class="nx">Route</span><span class="p">,</span> <span class="nx">createBrowserRouter</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react-router-dom</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">About</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./pages/About</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Root</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./Root</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">NotFound</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./pages/NotFound</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Home</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./pages/Home</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">ErrorComponents</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./component/ErrorComponents</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">User</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./pages/users/User</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">router</span> <span class="o">=</span> <span class="nf">createBrowserRouter</span><span class="p">([</span>
  <span class="p">{</span>
    <span class="na">path</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/</span><span class="dl">"</span><span class="p">,</span> <span class="c1">// 루트 경로</span>
    <span class="na">element</span><span class="p">:</span> <span class="p">&lt;</span><span class="nc">Root</span> <span class="p">/&gt;,</span> <span class="c1">// 루트 컴포넌트</span>
    <span class="na">children</span><span class="p">:</span> <span class="p">[</span>
      <span class="c1">// 자식 라우터</span>
      <span class="p">{</span>
        <span class="na">path</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span> <span class="c1">// 자식 라우터의 경로</span>
        <span class="na">element</span><span class="p">:</span> <span class="p">&lt;</span><span class="nc">Home</span> <span class="p">/&gt;,</span> <span class="c1">// 자식 라우터의 컴포넌트</span>
        <span class="na">errorElement</span><span class="p">:</span> <span class="p">&lt;</span><span class="nc">ErrorComponents</span> <span class="p">/&gt;,</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="na">path</span><span class="p">:</span> <span class="dl">"</span><span class="s2">users/:userId</span><span class="dl">"</span><span class="p">,</span> <span class="c1">// 자식 라우터의 경로, :userId(url prarmater)는 User.tsx에서 useParams()를 통해 접근 가능하다.</span>
        <span class="na">element</span><span class="p">:</span> <span class="p">&lt;</span><span class="nc">User</span> <span class="p">/&gt;,</span>
      <span class="p">},</span>
      <span class="c1">// 아래처럼 하면 /users에서 리스트를 보여주고 싶을 때에 적절하게 사용이 불가능하다.</span>
      <span class="c1">// {</span>
      <span class="c1">//   path: "users",</span>
      <span class="c1">//   element: &lt;User /&gt;,</span>
      <span class="c1">//   children: [</span>
      <span class="c1">//     {</span>
      <span class="c1">//       path: ":userId",</span>
      <span class="c1">//       element: &lt;User /&gt;,</span>
      <span class="c1">//     },</span>
      <span class="c1">//   ],</span>
      <span class="c1">// },</span>
    <span class="p">],</span>
    <span class="na">errorElement</span><span class="p">:</span> <span class="p">&lt;</span><span class="nc">NotFound</span> <span class="p">/&gt;,</span>
  <span class="p">},</span>
<span class="p">]);</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">router</span><span class="p">;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>User.tsx (위에서 path에 사용한 “:userId”를 useParams()를 통해 접근한 모습)</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">useParams</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react-router-dom</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">users</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">../../db</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nf">User</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">userId</span> <span class="p">}</span> <span class="o">=</span> <span class="nf">useParams</span><span class="p">();</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>
      User with it <span class="si">{</span><span class="nx">userId</span><span class="si">}</span> is named: <span class="si">{</span><span class="nx">users</span><span class="p">[</span><span class="nc">Number</span><span class="p">(</span><span class="nx">userId</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">].</span><span class="nx">name</span><span class="si">}</span>
    <span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
<span class="k">export</span> <span class="k">default</span> <span class="nx">User</span><span class="p">;</span>
</code></pre></div>    </div>
  </li>
  <li>유저정보를 잠시 예비로 저장하려고 만든 고정변수가 들어있는 파일 (db.ts)
    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="kd">const</span> <span class="nx">users</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="na">id</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">nico</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="na">id</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">lynn</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">];</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="좀-더-깊게-들어가면-url-parameter안에서도-children-사용이-가능하다">좀 더 깊게 들어가면 url parameter안에서도 children 사용이 가능하다.</h3>

<ul>
  <li>
    <p>Router.tsx</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">createBrowserRouter</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react-router-dom</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">About</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./pages/About</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Root</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./Root</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">NotFound</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./pages/NotFound</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Home</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./pages/Home</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">ErrorComponents</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./component/ErrorComponents</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">User</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./pages/users/User</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Followers</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./pages/users/Followers</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">router</span> <span class="o">=</span> <span class="nf">createBrowserRouter</span><span class="p">([</span>
  <span class="p">{</span>
    <span class="na">path</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/</span><span class="dl">"</span><span class="p">,</span> <span class="c1">// 루트 경로</span>
    <span class="na">element</span><span class="p">:</span> <span class="p">&lt;</span><span class="nc">Root</span> <span class="p">/&gt;,</span> <span class="c1">// 루트 컴포넌트</span>
    <span class="na">children</span><span class="p">:</span> <span class="p">[</span>
      <span class="c1">// 자식 라우터</span>
      <span class="p">{</span>
        <span class="na">path</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span> <span class="c1">// 자식 라우터의 경로</span>
        <span class="na">element</span><span class="p">:</span> <span class="p">&lt;</span><span class="nc">Home</span> <span class="p">/&gt;,</span> <span class="c1">// 자식 라우터의 컴포넌트</span>
        <span class="na">errorElement</span><span class="p">:</span> <span class="p">&lt;</span><span class="nc">ErrorComponents</span> <span class="p">/&gt;,</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="c1">// 자식 라우터의 경로, :userId(url prarmater) 는 User.tsx에서 useParams()를 통해 접근 가능하다.</span>
        <span class="na">path</span><span class="p">:</span> <span class="dl">"</span><span class="s2">users/:userId</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">element</span><span class="p">:</span> <span class="p">&lt;</span><span class="nc">User</span> <span class="p">/&gt;,</span>
        <span class="na">children</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">{</span>
            <span class="na">path</span><span class="p">:</span> <span class="dl">"</span><span class="s2">followers</span><span class="dl">"</span><span class="p">,</span>
            <span class="na">element</span><span class="p">:</span> <span class="p">&lt;</span><span class="nc">Followers</span> <span class="p">/&gt;,</span>
          <span class="p">},</span>
        <span class="p">],</span>
      <span class="p">},</span>
    <span class="p">],</span>
    <span class="na">errorElement</span><span class="p">:</span> <span class="p">&lt;</span><span class="nc">NotFound</span> <span class="p">/&gt;,</span>
  <span class="p">},</span>
<span class="p">]);</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">router</span><span class="p">;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Home.tsx</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Link</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react-router-dom</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">users</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">../db</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nf">Home</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Users<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
        <span class="si">{</span><span class="nx">users</span><span class="p">.</span><span class="nf">map</span><span class="p">((</span><span class="nx">user</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span>
          <span class="p">&lt;</span><span class="nt">li</span> <span class="na">key</span><span class="p">=</span><span class="si">{</span><span class="nx">user</span><span class="p">.</span><span class="nx">id</span><span class="si">}</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nc">Link</span> <span class="na">to</span><span class="p">=</span><span class="si">{</span><span class="s2">`/users/</span><span class="p">${</span><span class="nx">user</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="s2">`</span><span class="si">}</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">user</span><span class="p">.</span><span class="nx">name</span><span class="si">}</span><span class="p">&lt;/</span><span class="nc">Link</span><span class="p">&gt;</span>
          <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
        <span class="p">))</span><span class="si">}</span>
      <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
<span class="k">export</span> <span class="k">default</span> <span class="nx">Home</span><span class="p">;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Follwers.tsx (같은 router에 있다면 url parameter에 자식컴포넌트도 접근가능하다)</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">useParams</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react-router-dom</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nf">Followers</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">userId</span> <span class="p">}</span> <span class="o">=</span> <span class="nf">useParams</span><span class="p">();</span>
  <span class="k">return</span> <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Followers userId : <span class="si">{</span><span class="nx">userId</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;;</span>
<span class="p">}</span>
<span class="k">export</span> <span class="k">default</span> <span class="nx">Followers</span><span class="p">;</span>
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="useoutletcontext-자식컴포넌트-prop-대용">UseOutletContext (자식컴포넌트 prop 대용)</h2>

<p><code class="language-plaintext highlighter-rouge">&lt;outlet&gt;</code> 엘리먼트에 해당하는 자식 컴포넌트에게 값을 전달할 때 사용하는것.
outlet에서는 props를 사용하는 것처럼 함수의 arg에서 값을 받지 않고, useOutletContext를 이용해서 값을 전달받아야 한다.</p>

<ul>
  <li>
    <p>User.tsx</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Link</span><span class="p">,</span> <span class="nx">Outlet</span><span class="p">,</span> <span class="nx">useParams</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react-router-dom</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">users</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">../../db</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nf">User</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">userId</span> <span class="p">}</span> <span class="o">=</span> <span class="nf">useParams</span><span class="p">();</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>
        User with it <span class="si">{</span><span class="nx">userId</span><span class="si">}</span> is named: <span class="si">{</span><span class="nx">users</span><span class="p">[</span><span class="nc">Number</span><span class="p">(</span><span class="nx">userId</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">].</span><span class="nx">name</span><span class="si">}</span>
      <span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">hr</span> <span class="p">/&gt;</span>
      <span class="p">&lt;</span><span class="nc">Link</span> <span class="na">to</span><span class="p">=</span><span class="s">"followers"</span><span class="p">&gt;</span>See followers<span class="p">&lt;/</span><span class="nc">Link</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nc">Outlet</span>
        <span class="na">context</span><span class="p">=</span>
      <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
<span class="k">export</span> <span class="k">default</span> <span class="nx">User</span><span class="p">;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Followers.tsx</p>

    <ul>
      <li>userOuletContext를 통해서 Outlet에서 전달한 값을 받는 모습.</li>
      <li>useOuletContext이 전해줄 변수들의 타입은 인터페이스와 제네릭을 통해서 타입을 지정함.</li>
    </ul>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">useOutletContext</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react-router-dom</span><span class="dl">"</span><span class="p">;</span>

<span class="kr">interface</span> <span class="nx">IFollowersContext</span> <span class="p">{</span>
  <span class="nl">nameOfMyUser</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nf">Followers</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">nameOfMyUser</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">useOutletContext</span><span class="o">&lt;</span><span class="nx">IFollowersContext</span><span class="o">&gt;</span><span class="p">();</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">nameOfMyUser</span><span class="p">);</span>
  <span class="k">return</span> <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Here are <span class="si">{</span><span class="nx">nameOfMyUser</span><span class="si">}</span>의 followers<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;;</span>
<span class="p">}</span>
<span class="k">export</span> <span class="k">default</span> <span class="nx">Followers</span><span class="p">;</span>
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="usesearchparams-url-접근하여-querystring-가져오기">UseSearchParams (url 접근하여 querystring 가져오기)</h2>

<ul>
  <li>URL에 있는 쿼리스트링에 있는 ?key1=value1&amp;key2=value2들을 모두 가져온다.</li>
  <li><code class="language-plaintext highlighter-rouge">const [readSearchParams, setReadSearchParams] = useSearchParams();</code></li>
  <li>위 구문을 사용하면 쿼리에 있는 key, value을 모두 가져오며,
readSearchParams.get(”key1”)을 통해 value를 가져올 수 있다.</li>
  <li>setReadSerchParmas()를 사용하면 값을 수정 가능하다.</li>
  <li>useState와 사용방식이 매우 유사하며, set함수를 이용해서 값을 변경했을 때 새로 랜더링 된다. 이것 또한 usetState와 매우 유사하게 동작한다.</li>
</ul>

<hr />

<h1 id="redux-설치-방법-및-사용방법">Redux (설치 방법 및 사용방법)</h1>

<ul>
  <li>기존 프로젝트에 리덕스 설치 : <code class="language-plaintext highlighter-rouge">npx install redux</code></li>
  <li>기존프로젝트가 리엑트라면 리엑트-리덕트도 설치 <code class="language-plaintext highlighter-rouge">npx install react-redux</code></li>
  <li>기존 리엑트 프로젝트가 typescript를 사용한다면 <code class="language-plaintext highlighter-rouge">npm install @type/react-redux</code></li>
  <li>react+redux 생성 : <code class="language-plaintext highlighter-rouge">npx create-react-app [프로젝트명] --template redux</code></li>
  <li>react+TS+redus 생성 : <code class="language-plaintext highlighter-rouge">npx create-react-app [프로젝트명] --template redux-typescript</code></li>
  <li><strong>TIP. 요즘은 react-redux설치하면 타입스크립트용 모듈도 같이 설치된다.</strong></li>
</ul>

<h2 id="redux-기본">Redux 기본</h2>

<h2 id="store">Store</h2>

<ul>
  <li><strong>createStore</strong>를 사용하여 오브젝트 변수store를 만들면 store 변수 안에는 Reducer가 지원하는 dispatch, subscribe, getState, replaceReducer 4개의 함수가 들어있다.</li>
  <li>createStore를 만들 때에는 인자에 reducer를 넣어 reducer를 지정해줘야 한다.</li>
</ul>

<h2 id="reducer">Reducer</h2>

<ul>
  <li>Reducer가 store보다 상위 개념이며, store는 reducer의 방식에 따라 동작한다.</li>
  <li>dispatch, subscribe, getState, replaceReducer 4개의 함수가 들어있다.</li>
  <li>Reducer은 state와 action 2개의 인자를 필요로 한다.
    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">Reducer</span> <span class="o">=</span> <span class="p">(</span><span class="nx">state</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">action</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">state</span><span class="p">,</span> <span class="nx">action</span><span class="p">);</span>
  <span class="k">if </span><span class="p">(</span><span class="nx">action</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">ADD</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">state</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if </span><span class="p">(</span><span class="nx">action</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">MINUS</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">state</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">state</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>
</code></pre></div>    </div>
  </li>
  <li>Reducer의 state에는 현재 store에 들어있는 값이 state에 자동으로 들어간다.</li>
  <li><strong>Action</strong>은 오브젝트의 형태로 인자를 주어야 한다. Reducer를 컨트롤 하기 위한 인자로 쓰인다.</li>
  <li><code class="language-plaintext highlighter-rouge">dispatch({ type: ‘ADD’ })</code>로 Action에 값이 들어왔다면 Reducer에서는 action.type으로 호출하면 된다.</li>
  <li>dispatch의 오브젝트의 key이름은 반드시 type이어야 한다.
    <h3 id="dispatch---요즘은-usedispatch를-씀">dispatch() - 요즘은 useDispatch()를 씀</h3>
    <ul>
      <li>Reducer에 action 값을 주어서 state를 바꾸는 용도의 함수.</li>
      <li>store명.dispatch(오브젝트) 형태로 쓰인다.</li>
      <li><code class="language-plaintext highlighter-rouge">store.dispatch({ type: 'ADD' });</code></li>
    </ul>
  </li>
</ul>

<h3 id="getstate---요즘은-useselector를-씀">getState() - 요즘은 useSelector()를 씀</h3>

<ul>
  <li>getState또한 Reducer가 지원하는 함수로, store가 가지고 있는 state를 반환한다.</li>
  <li><code class="language-plaintext highlighter-rouge">store.getState()</code></li>
</ul>

<h3 id="subscribelistener">subscribe(listener)</h3>

<ul>
  <li>subscribe()는 store의 값이 변경되었을 경우 자동으로 실행되는 함수이며, listener함수를 실행시킨다.</li>
  <li>이 함수로 인해서 store의 값이 변경되었을 경우 랜더링을 다시 하도록 실행시킬 수 있다.</li>
</ul>

<h3 id="reducer의-필수-함수를-사용한-코드">Reducer의 필수 함수를 사용한 코드</h3>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">createStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">redux</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">add</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">add</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">minus</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">minus</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">number</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">span</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">Reducer</span> <span class="o">=</span> <span class="p">(</span><span class="nx">state</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">action</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">switch </span><span class="p">(</span><span class="nx">action</span><span class="p">.</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="dl">"</span><span class="s2">ADD</span><span class="dl">"</span><span class="p">:</span>
      <span class="k">return</span> <span class="nx">state</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">"</span><span class="s2">MINUS</span><span class="dl">"</span><span class="p">:</span>
      <span class="k">return</span> <span class="nx">state</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
    <span class="nl">default</span><span class="p">:</span>
      <span class="k">return</span> <span class="nx">state</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="nf">createStore</span><span class="p">(</span><span class="nx">Reducer</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">onChange</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">number</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="nx">store</span><span class="p">.</span><span class="nf">getState</span><span class="p">();</span>
<span class="p">};</span>

<span class="nx">store</span><span class="p">.</span><span class="nf">subscribe</span><span class="p">(</span><span class="nx">onChange</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">handleAdd</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">store</span><span class="p">.</span><span class="nf">dispatch</span><span class="p">({</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ADD</span><span class="dl">"</span> <span class="p">});</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">handleMinus</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">store</span><span class="p">.</span><span class="nf">dispatch</span><span class="p">({</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">MINUS</span><span class="dl">"</span> <span class="p">});</span>
<span class="p">};</span>

<span class="nx">add</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">click</span><span class="dl">"</span><span class="p">,</span> <span class="nx">handleAdd</span><span class="p">);</span>
<span class="nx">minus</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">click</span><span class="dl">"</span><span class="p">,</span> <span class="nx">handleMinus</span><span class="p">);</span>
</code></pre></div></div>

<p><img src="https://prod-files-secure.s3.us-west-2.amazonaws.com/07f0fd8d-9bba-4cb3-973b-67f26ef2e0da/f027dd3a-d98f-4d7e-95f0-ca829fe06f39/Untitled.png" alt="Untitled" /></p>

<h2 id="redux---react">Redux - React</h2>

<h3 id="provider">Provider</h3>

<ul>
  <li>React에서 redux를 연결하기 위한 컴포넌트이다.</li>
  <li>store를 사용하기 위해서는 Provider 엘러먼트 안에 있어야 한다.</li>
  <li>
    <p>index.js</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">ReactDOM</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react-dom</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">App</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./components/App</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Provider</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react-redux</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">store</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./store</span><span class="dl">"</span><span class="p">;</span>

<span class="nx">ReactDOM</span><span class="p">.</span><span class="nf">render</span><span class="p">(</span>
  <span class="p">&lt;</span><span class="nc">Provider</span> <span class="na">store</span><span class="p">=</span><span class="si">{</span><span class="nx">store</span><span class="si">}</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nc">App</span> <span class="p">/&gt;</span>
  <span class="p">&lt;/</span><span class="nc">Provider</span><span class="p">&gt;,</span>
  <span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">root</span><span class="dl">"</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="connect-">connect ★</h3>

<ul>
  <li>컴포넌트를 store에 연결해주는 역할</li>
  <li>connect는 2개의 argument를 가진다.</li>
  <li>Dispatch가 필요하지 않은 connect를 선언할 때 : <code class="language-plaintext highlighter-rouge">connect(mapStateToProps)(Home)</code></li>
  <li>state는 필요없고 Dispatch가 필요한 connect를 선언할 때 :
<code class="language-plaintext highlighter-rouge">connect(null, mapDispatchToProps)(Home)</code></li>
  <li>state와 dispatch 둘 다 필요한 connect를 선언할 때 :
<code class="language-plaintext highlighter-rouge">connect(mapStateToProps, mapDispatchToProps)(Home)</code></li>
  <li>
    <p>store.js</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">createStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">redux</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">ADD</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">ADD</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">DELETE</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">DELETE</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">addToDo</span> <span class="o">=</span> <span class="p">(</span><span class="nx">text</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="nx">ADD</span><span class="p">,</span>
    <span class="nx">text</span><span class="p">,</span>
  <span class="p">};</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">deleteToDo</span> <span class="o">=</span> <span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="nx">DELETE</span><span class="p">,</span>
    <span class="nx">id</span><span class="p">,</span>
  <span class="p">};</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">reducer</span> <span class="o">=</span> <span class="p">(</span><span class="nx">state</span> <span class="o">=</span> <span class="p">[],</span> <span class="nx">action</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">switch </span><span class="p">(</span><span class="nx">action</span><span class="p">.</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="na">ADD</span><span class="p">:</span>
      <span class="k">return</span> <span class="p">[{</span> <span class="na">text</span><span class="p">:</span> <span class="nx">action</span><span class="p">.</span><span class="nx">text</span><span class="p">,</span> <span class="na">id</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nf">now</span><span class="p">()</span> <span class="p">},</span> <span class="p">...</span><span class="nx">state</span><span class="p">];</span>
    <span class="k">case</span> <span class="na">DELETE</span><span class="p">:</span>
      <span class="k">return</span> <span class="nx">state</span><span class="p">.</span><span class="nf">filter</span><span class="p">((</span><span class="nx">toDo</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">toDo</span> <span class="o">!==</span> <span class="nx">action</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>
    <span class="nl">default</span><span class="p">:</span>
      <span class="k">return</span> <span class="nx">state</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="nf">createStore</span><span class="p">(</span><span class="nx">reducer</span><span class="p">);</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">actionCreators</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">addToDo</span><span class="p">,</span>
  <span class="nx">deleteToDo</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">store</span><span class="p">;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Home.js</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">connect</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react-redux</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">actionCreators</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">../store</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nf">Home</span><span class="p">({</span> <span class="nx">toDos</span><span class="p">,</span> <span class="nx">addToDo</span> <span class="p">})</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">toDos</span><span class="p">);</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">text</span><span class="p">,</span> <span class="nx">setText</span><span class="p">]</span> <span class="o">=</span> <span class="nf">useState</span><span class="p">(</span><span class="dl">""</span><span class="p">);</span>
  <span class="kd">function</span> <span class="nf">onChange</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">setText</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="kd">function</span> <span class="nf">onSubmit</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">e</span><span class="p">.</span><span class="nf">preventDefault</span><span class="p">();</span>
    <span class="nf">addToDo</span><span class="p">(</span><span class="nx">text</span><span class="p">);</span>
    <span class="nf">setText</span><span class="p">(</span><span class="dl">""</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="p">&lt;&gt;</span>
      <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>To Do<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">form</span> <span class="na">onSubmit</span><span class="p">=</span><span class="si">{</span><span class="nx">onSubmit</span><span class="si">}</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="p">=</span><span class="s">"text"</span> <span class="na">value</span><span class="p">=</span><span class="si">{</span><span class="nx">text</span><span class="si">}</span> <span class="na">onChange</span><span class="p">=</span><span class="si">{</span><span class="nx">onChange</span><span class="si">}</span> <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span><span class="p">&gt;</span>Add<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">JSON</span><span class="p">.</span><span class="nf">stringify</span><span class="p">(</span><span class="nx">toDos</span><span class="p">)</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
    <span class="p">&lt;/&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>

<span class="c1">// mapStateToProps는 state를 가져오는 함수이다.</span>
<span class="c1">// state는 store에서 가져온다.</span>
<span class="kd">function</span> <span class="nf">mapStateToProps</span><span class="p">(</span><span class="nx">state</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">{</span> <span class="na">toDos</span><span class="p">:</span> <span class="nx">state</span> <span class="p">};</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nf">mapDispatchToProps</span><span class="p">(</span><span class="nx">dispatch</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">{</span>
    <span class="na">addToDo</span><span class="p">:</span> <span class="p">(</span><span class="nx">text</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nf">dispatch</span><span class="p">(</span><span class="nx">actionCreators</span><span class="p">.</span><span class="nf">addToDo</span><span class="p">(</span><span class="nx">text</span><span class="p">)),</span>
  <span class="p">};</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nf">connect</span><span class="p">(</span><span class="nx">mapStateToProps</span><span class="p">,</span> <span class="nx">mapDispatchToProps</span><span class="p">)(</span><span class="nx">Home</span><span class="p">);</span>
<span class="c1">// connect는 Home으로 보내는 props에 추가될 수 있도록 허용한다.</span>
</code></pre></div>    </div>
  </li>
  <li>connect는 컴포넌트와 store를 연결하는 역할을 한다.</li>
  <li>그 중에서 get을 할 것인지, dispatch를 할 것인지, 둘 다 할 것인지를 인자를 넣어주어야 한다.</li>
  <li>mapStateToProps는 connect가 store에서 state를 가져오면 그 state를 props의 형태로 바꾸어서 컴포넌트(Home)에 전달하는 역할을 한다.</li>
  <li>mapDispatchToProps는 connect가 store에서 정의한 action을 가져오면 그 action을 dispatch에 넣어 컴포넌트에 전달하여 컴포넌트가 dispatch(action)을 실행하면 store의 값이 바뀌게 된다.</li>
  <li>connect 함수는 store를 계속 주시하고 있다가 store의 값이 바뀌면 자동으로 mapStateToProps함수를 재실행하고, mapStateToProps는 연결된 컴포넌트를 실행시켜 컴포넌트는 리랜더링 된다.</li>
</ul>

<p>UseSelector</p>

<h2 id="redux-toolkit">Redux-toolkit</h2>

<ul>
  <li>적은양의 코드로 리덕스를 쉽게 작성할 수 있게 도와주는 kit</li>
  <li><code class="language-plaintext highlighter-rouge">npm install @reduxjs/toolkit</code> 로 설치</li>
</ul>

<h3 id="createaction---action-만드는-방법을-줄이는-kit">createAction() - Action 만드는 방법을 줄이는 kit</h3>

<ul>
  <li>
    <p>createAction()을 사용하지 않은 store.js</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">createStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">redux</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">ADD</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">ADD</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">DELETE</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">DELETE</span><span class="dl">"</span><span class="p">;</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">addToDo</span> <span class="o">=</span> <span class="p">(</span><span class="nx">text</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="nx">ADD</span><span class="p">,</span>
    <span class="nx">text</span><span class="p">,</span>
  <span class="p">};</span>
<span class="p">};</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">deleteToDo</span> <span class="o">=</span> <span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="nx">DELETE</span><span class="p">,</span>
    <span class="na">id</span><span class="p">:</span> <span class="nf">parseInt</span><span class="p">(</span><span class="nx">id</span><span class="p">),</span>
  <span class="p">};</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">reducer</span> <span class="o">=</span> <span class="p">(</span><span class="nx">state</span> <span class="o">=</span> <span class="p">[],</span> <span class="nx">action</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">switch </span><span class="p">(</span><span class="nx">action</span><span class="p">.</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="na">ADD</span><span class="p">:</span>
      <span class="k">return</span> <span class="p">[{</span> <span class="na">text</span><span class="p">:</span> <span class="nx">action</span><span class="p">.</span><span class="nx">text</span><span class="p">,</span> <span class="na">id</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nf">now</span><span class="p">()</span> <span class="p">},</span> <span class="p">...</span><span class="nx">state</span><span class="p">];</span>
    <span class="k">case</span> <span class="na">DELETE</span><span class="p">:</span>
      <span class="k">return</span> <span class="nx">state</span><span class="p">.</span><span class="nf">filter</span><span class="p">((</span><span class="nx">toDo</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">toDo</span> <span class="o">!==</span> <span class="nx">action</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>
    <span class="nl">default</span><span class="p">:</span>
      <span class="k">return</span> <span class="nx">state</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="nf">createStore</span><span class="p">(</span><span class="nx">reducer</span><span class="p">);</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">actionCreators</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">addToDo</span><span class="p">,</span>
  <span class="nx">deleteToDo</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">store</span><span class="p">;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>createAction()을 사용하여 코드를 줄인 store.js</p>

    <ul>
      <li>createAction을 사용하면 액션에게 보내는 정보가 payLoad와 함께 보내진다. 그냥 관행이니 외워라</li>
    </ul>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">createStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">redux</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">createAction</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@reduxjs/toolkit</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">addToDo</span> <span class="o">=</span> <span class="nf">createAction</span><span class="p">(</span><span class="dl">"</span><span class="s2">ADD</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">deleteToDo</span> <span class="o">=</span> <span class="nf">createAction</span><span class="p">(</span><span class="dl">"</span><span class="s2">DELETE</span><span class="dl">"</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nf">addToDo</span><span class="p">(),</span> <span class="nf">deleteToDo</span><span class="p">());</span>

<span class="kd">const</span> <span class="nx">reducer</span> <span class="o">=</span> <span class="p">(</span><span class="nx">state</span> <span class="o">=</span> <span class="p">[],</span> <span class="nx">action</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">switch </span><span class="p">(</span><span class="nx">action</span><span class="p">.</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="nx">addToDo</span><span class="p">.</span><span class="na">type</span><span class="p">:</span>
      <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">action</span><span class="p">);</span>
      <span class="k">return</span> <span class="p">[{</span> <span class="na">text</span><span class="p">:</span> <span class="nx">action</span><span class="p">.</span><span class="nx">payload</span><span class="p">,</span> <span class="na">id</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nf">now</span><span class="p">()</span> <span class="p">},</span> <span class="p">...</span><span class="nx">state</span><span class="p">];</span>
    <span class="k">case</span> <span class="nx">deleteToDo</span><span class="p">.</span><span class="na">type</span><span class="p">:</span>
      <span class="k">return</span> <span class="nx">state</span><span class="p">.</span><span class="nf">filter</span><span class="p">((</span><span class="nx">toDo</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">toDo</span><span class="p">.</span><span class="nx">id</span> <span class="o">!==</span> <span class="nx">action</span><span class="p">.</span><span class="nx">payload</span><span class="p">);</span>
    <span class="nl">default</span><span class="p">:</span>
      <span class="k">return</span> <span class="nx">state</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="nf">createStore</span><span class="p">(</span><span class="nx">reducer</span><span class="p">);</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">actionCreators</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">addToDo</span><span class="p">,</span>
  <span class="nx">deleteToDo</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">store</span><span class="p">;</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="createreducer---reducer만드는-방법을-줄이는-kit">createReducer() - Reducer만드는 방법을 줄이는 kit</h3>

<ul>
  <li>미들웨어</li>
  <li>createAction()에서 만들었던 코드와 비교한다.</li>
  <li>
    <p>createReducer()을 사용하지 않은 store.js</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">createStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">redux</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">createAction</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@reduxjs/toolkit</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">addToDo</span> <span class="o">=</span> <span class="nf">createAction</span><span class="p">(</span><span class="dl">"</span><span class="s2">ADD</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">deleteToDo</span> <span class="o">=</span> <span class="nf">createAction</span><span class="p">(</span><span class="dl">"</span><span class="s2">DELETE</span><span class="dl">"</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nf">addToDo</span><span class="p">(),</span> <span class="nf">deleteToDo</span><span class="p">());</span>

<span class="kd">const</span> <span class="nx">reducer</span> <span class="o">=</span> <span class="p">(</span><span class="nx">state</span> <span class="o">=</span> <span class="p">[],</span> <span class="nx">action</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">switch </span><span class="p">(</span><span class="nx">action</span><span class="p">.</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="nx">addToDo</span><span class="p">.</span><span class="na">type</span><span class="p">:</span>
      <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">action</span><span class="p">);</span>
      <span class="k">return</span> <span class="p">[{</span> <span class="na">text</span><span class="p">:</span> <span class="nx">action</span><span class="p">.</span><span class="nx">payload</span><span class="p">,</span> <span class="na">id</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nf">now</span><span class="p">()</span> <span class="p">},</span> <span class="p">...</span><span class="nx">state</span><span class="p">];</span>
    <span class="k">case</span> <span class="nx">deleteToDo</span><span class="p">.</span><span class="na">type</span><span class="p">:</span>
      <span class="k">return</span> <span class="nx">state</span><span class="p">.</span><span class="nf">filter</span><span class="p">((</span><span class="nx">toDo</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">toDo</span><span class="p">.</span><span class="nx">id</span> <span class="o">!==</span> <span class="nx">action</span><span class="p">.</span><span class="nx">payload</span><span class="p">);</span>
    <span class="nl">default</span><span class="p">:</span>
      <span class="k">return</span> <span class="nx">state</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="nf">createStore</span><span class="p">(</span><span class="nx">reducer</span><span class="p">);</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">actionCreators</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">addToDo</span><span class="p">,</span>
  <span class="nx">deleteToDo</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">store</span><span class="p">;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>createReducer()을 사용한 store.js</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">createStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">redux</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">createAction</span><span class="p">,</span> <span class="nx">createReducer</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@reduxjs/toolkit</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">addToDo</span> <span class="o">=</span> <span class="nf">createAction</span><span class="p">(</span><span class="dl">"</span><span class="s2">ADD</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">deleteToDo</span> <span class="o">=</span> <span class="nf">createAction</span><span class="p">(</span><span class="dl">"</span><span class="s2">DELETE</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">reducer</span> <span class="o">=</span> <span class="nf">createReducer</span><span class="p">([],</span> <span class="p">{</span>
  <span class="p">[</span><span class="nx">addToDo</span><span class="p">]:</span> <span class="p">(</span><span class="nx">state</span><span class="p">,</span> <span class="nx">action</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">state</span><span class="p">.</span><span class="nf">push</span><span class="p">({</span> <span class="na">text</span><span class="p">:</span> <span class="nx">action</span><span class="p">.</span><span class="nx">payload</span><span class="p">,</span> <span class="na">id</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nf">now</span><span class="p">()</span> <span class="p">});</span>
  <span class="p">},</span>
  <span class="p">[</span><span class="nx">deleteToDo</span><span class="p">]:</span> <span class="p">(</span><span class="nx">state</span><span class="p">,</span> <span class="nx">action</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">state</span><span class="p">.</span><span class="nf">filter</span><span class="p">((</span><span class="nx">toDo</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">toDo</span><span class="p">.</span><span class="nx">id</span> <span class="o">!==</span> <span class="nx">action</span><span class="p">.</span><span class="nx">payload</span><span class="p">),</span>
<span class="p">});</span>

<span class="kd">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="nf">createStore</span><span class="p">(</span><span class="nx">reducer</span><span class="p">);</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">actionCreators</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">addToDo</span><span class="p">,</span>
  <span class="nx">deleteToDo</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">store</span><span class="p">;</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="configurestore---react-develop-tools를-사용할-수-있게-된다">configureStore - react develop tools를 사용할 수 있게 된다.</h3>

<ul>
  <li>createStore를 사용하는 대신 configureStore를 사용하면 react develop tools를 사용할 수 있게 된다.</li>
  <li><code class="language-plaintext highlighter-rouge">const store = configureStore({ reducer });</code></li>
</ul>

<h3 id="createslice---reducer과-action를-동시에-생성할-수-있도록-도와주는-toolkit">createSlice() - reducer과 action를 동시에 생성할 수 있도록 도와주는 toolkit</h3>

<ul>
  <li>reducer과 action도 생성할 수 있도록 도와주는 toolkit</li>
  <li>createReducer코드에서 아래코드로 더욱 줄어졌다.</li>
  <li>
    <p>reducer과 action을 동시에 생성하는 모습이다.</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">configureStore</span><span class="p">,</span> <span class="nx">createSlice</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@reduxjs/toolkit</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">toDos</span> <span class="o">=</span> <span class="nf">createSlice</span><span class="p">({</span>
  <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">toDosReducer</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">initialState</span><span class="p">:</span> <span class="p">[],</span>
  <span class="na">reducers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">add</span><span class="p">:</span> <span class="p">(</span><span class="nx">state</span><span class="p">,</span> <span class="nx">action</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">state</span><span class="p">.</span><span class="nf">push</span><span class="p">({</span> <span class="na">text</span><span class="p">:</span> <span class="nx">action</span><span class="p">.</span><span class="nx">payload</span><span class="p">,</span> <span class="na">id</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nf">now</span><span class="p">()</span> <span class="p">});</span>
    <span class="p">},</span>
    <span class="na">remove</span><span class="p">:</span> <span class="p">(</span><span class="nx">state</span><span class="p">,</span> <span class="nx">action</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">state</span><span class="p">.</span><span class="nf">filter</span><span class="p">((</span><span class="nx">toDo</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">toDo</span><span class="p">.</span><span class="nx">id</span> <span class="o">!==</span> <span class="nx">action</span><span class="p">.</span><span class="nx">payload</span><span class="p">),</span>
  <span class="p">},</span>
<span class="p">});</span>

<span class="k">export</span> <span class="kd">const</span> <span class="p">{</span> <span class="nx">add</span><span class="p">,</span> <span class="nx">remove</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">toDos</span><span class="p">.</span><span class="nx">actions</span><span class="p">;</span>

<span class="k">export</span> <span class="k">default</span> <span class="nf">configureStore</span><span class="p">({</span> <span class="na">reducer</span><span class="p">:</span> <span class="nx">toDos</span><span class="p">.</span><span class="nx">reducer</span> <span class="p">});</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="configurestore---더-줄이는-방법-바로-위-코드-참고">configureStore() - 더 줄이는 방법 (바로 위 코드 참고)</h3>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">configureStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@reduxjs/toolkit</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="nf">configureStore</span><span class="p">({</span> <span class="na">reducer</span><span class="p">:</span> <span class="nx">rootReducer</span> <span class="p">});</span>
</code></pre></div></div>

<ul>
  <li>사용방법 : <code class="language-plaintext highlighter-rouge">configureStore({ reducer : 리듀서명})</code></li>
</ul>

<h3 id="useselector">useSelector()</h3>

<ul>
  <li>useSelector은 상태변화가 감지되면 useSelector를 사용하는 컴포넌트는 리린더링된다.</li>
  <li>useSelector은 getState와 subscibe의 역할을 하는것이다.</li>
  <li>아래 코드에서는 state.counter.count의 값에 대해서만 반응하여 리랜더링한다.</li>
</ul>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">CounterContainer</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">//상태조회</span>
  <span class="kd">const</span> <span class="nx">count</span> <span class="o">=</span> <span class="nf">useSelector</span><span class="p">((</span><span class="na">state</span><span class="p">:</span> <span class="nx">rootState</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">state</span><span class="p">.</span><span class="nx">counter</span><span class="p">.</span><span class="nx">count</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">dispatch</span> <span class="o">=</span> <span class="nf">useDispatch</span><span class="p">();</span>

  <span class="c1">//디스패치 함수</span>
  <span class="kd">const</span> <span class="nx">onIncrease</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nf">dispatch</span><span class="p">(</span><span class="nf">increase</span><span class="p">());</span>
  <span class="p">};</span>
  <span class="kd">const</span> <span class="nx">onDecrease</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nf">dispatch</span><span class="p">(</span><span class="nf">decrease</span><span class="p">());</span>
  <span class="p">};</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nc">Counter</span> <span class="na">count</span><span class="p">=</span><span class="si">{</span><span class="nx">count</span><span class="si">}</span> <span class="na">onDecrease</span><span class="p">=</span><span class="si">{</span><span class="nx">onDecrease</span><span class="si">}</span> <span class="na">onIncrease</span><span class="p">=</span><span class="si">{</span><span class="nx">onIncrease</span><span class="si">}</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">CounterContainer</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="usedispatch">useDispatch()</h3>

<ul>
  <li>이 함수의 사용법은 따로 없으며 useDispatch()를 사용하면 dispatch를 반환한다.</li>
  <li>reducer
    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">counterSlice</span> <span class="o">=</span> <span class="nf">createSlice</span><span class="p">({</span>
  <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">aa</span><span class="dl">"</span><span class="p">,</span>
  <span class="nx">initialState</span><span class="p">,</span>
  <span class="na">reducers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">increase</span><span class="p">:</span> <span class="p">(</span><span class="nx">state</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">state</span><span class="p">.</span><span class="nx">count</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="na">decrease</span><span class="p">:</span> <span class="p">(</span><span class="nx">state</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">state</span><span class="p">.</span><span class="nx">count</span> <span class="o">-=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">},</span>
  <span class="p">},</span>
<span class="p">});</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>dispatch 사용법</p>

    <div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">useDispatch</span><span class="p">,</span> <span class="nx">useSelector</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react-redux</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Counter</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">../components/Counter</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">rootState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">../redux/modules</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">decrease</span><span class="p">,</span> <span class="nx">increase</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">../redux/modules/counter</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">CounterContainer</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// 상태조회</span>
  <span class="kd">const</span> <span class="nx">count</span> <span class="o">=</span> <span class="nf">useSelector</span><span class="p">((</span><span class="na">state</span><span class="p">:</span> <span class="nx">rootState</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">state</span><span class="p">.</span><span class="nx">counter</span><span class="p">.</span><span class="nx">count</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">dispatch</span> <span class="o">=</span> <span class="nf">useDispatch</span><span class="p">();</span>

  <span class="c1">// 디스패치 함수</span>
  <span class="kd">const</span> <span class="nx">onIncrease</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nf">dispatch</span><span class="p">(</span><span class="nf">increase</span><span class="p">());</span>
  <span class="p">};</span>
  <span class="kd">const</span> <span class="nx">onDecrease</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nf">dispatch</span><span class="p">(</span><span class="nf">decrease</span><span class="p">());</span>
  <span class="p">};</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nc">Counter</span> <span class="na">count</span><span class="p">=</span><span class="si">{</span><span class="nx">count</span><span class="si">}</span> <span class="na">onDecrease</span><span class="p">=</span><span class="si">{</span><span class="nx">onDecrease</span><span class="si">}</span> <span class="na">onIncrease</span><span class="p">=</span><span class="si">{</span><span class="nx">onIncrease</span><span class="si">}</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">CounterContainer</span><span class="p">;</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="combinereducers">combineReducers()</h3>

<p>리듀서를 합치는 함수. 한개의 프로젝트는 하나의 store를 가지고 있어야 하므로 reducer를 하나로 합쳐야한다.</p>

<p><code class="language-plaintext highlighter-rouge">const rootReducer = combineReducers({ counter, todos });</code></p>
</div>
      </div>
    </div>
    
    <div id="disqus" style="padding: 41px"><div id="disqus_thread"></div>
<script>
    /**
    *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
    *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
    
    var disqus_config = function () {
    this.page.url = "https://koreamarin.github.io//frontend/2024/02/19/ReactJS/";  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = 'ReactJS'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://koreamarin-github-io.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div>
    
  </div>
</section>

    </div>
    <footer style='background-color: #eefffd;'>
    <address class="footer_wrap">
        <div class="information">
            <div class="myname">
                Jiwon's Blog
            </div>
            <a href="mailto:awldnjs2@gmail.com" class="email">
                awldnjs2@gmail.com
            </a>
            <div class="accounts">
                <span class="icon">
                    <a class="nav-item" target="_blank" href="https://www.github.com/koreamarin/">
                        <i class="fa fa-github"></i>
                    </a>
                </span>
                
                <!--
                    <span class="icon">
                        <a class="nav-item" target="_blank" href="https://www.twitter.com/username/">
                            <i class="fa fa-twitter"></i>
                        </a>
                    </span>
                -->
            </div>
        </div>
        <div class="copyright">
            <span>
                © koreamarin. <span id="year">2023</span>
            </span>
        </div>    
    </address>
</footer>
    <script src="/js/script.js"></script>
</body>

</html>